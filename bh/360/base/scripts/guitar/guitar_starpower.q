WhammyWibbles = [
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
]

script star_power_reset 
	SetPlayerInfo <player> star_power_amount = 0.0
	SetPlayerInfo <player> star_power_sequence = 0
	SetPlayerInfo <player> star_power_used = 0
endscript
star_power_ready_on_p1 = 0
star_power_ready_on_p2 = 0

script show_star_power_ready 
	if IsPS3
		printf \{channel = sfx
			qs(0x2c9e29c0)}
		if NOT ($current_song = jamsession)
			if isSinglePlayerGame
				SoundEvent \{event = Star_Power_Available_GH4}
			else
				spawnscriptnow Star_Power_Ready_SFX_Multiplayer params = {player = <player>}
			endif
		endif
	else
		printf \{channel = sfx
			qs(0x2d83f5f9)}
		if isSinglePlayerGame
			printf \{channel = sfx
				qs(0xb4d93ca0)}
			SoundEvent \{event = Star_Power_Available_GH4}
		else
			spawnscriptnow Star_Power_Ready_SFX_Multiplayer params = {player = <player>}
		endif
	endif
	if ($Cheat_PerformanceMode = 1)
		return
	endif
	GameMode_GetType
	if (<type> = practice)
		return
	endif
	if NOT ScreenElementExists \{id = hud_root}
		ScriptAssert \{'Hud Root not found'}
	endif
	GetPlayerInfo player = <player> star_power_used
	if (<star_power_used> = 0)
		GetPlayerInfo <player> part
		if (<part> != vocals)
			spawnscriptnow lil_SP_Squirt params = {player = <player>}
		else
			spawnscriptnow lil_SP_Squirt_Vocals params = {player = <player>}
		endif
		return
		if PlayerInfoEquals player = <player> part = vocals
			vocals_message_delayed {player = <player> text = qs(0x8ba36464) rgba = [128 240 240 255]}
		else
		endif
	endif
	return
endscript
showing_raise_axe = 0

script show_coop_raise_axe_for_starpower 
endscript

script Do_StarPower_StageFX 
	spawnscriptlater Do_StarPower_TeslaFX id = <scriptID> params = {<...>}
endscript

script Do_StarPower_TeslaFX 
	GetPlayerInfo <player> band_member out = obj_id
	if NOT CompositeObjectExists name = <obj_id>
		return
	endif
	if <obj_id> :IsHidden
		return
	endif
	GetPakManCurrent \{map = zones}
	ExtendCrc <pak> '_GFX_TRG_TeslaNode_' out = zonePrefix
	GetPlayerInfo <player> part
	switch (<part>)
		case bass
		case guitar
		bone = bone_guitar_body
		case Drum
		bone = BONE_IK_HAND_GUITAR_R
		case vocals
		bone = Bone_Mic_Microphone
	endswitch
	FormatText checksumname = teslaParticleFXID 'p%p_StarPower_TeslaParticleFX' p = <player>
	CreateParticleSystem name = <teslaParticleFXID> groupID = <teslaParticleFXID> objID = <obj_id> bone = <bone> params_Script = $GP_StarPower_TeslaLightning01
	i = 1
	begin
	switch (<part>)
		case bass
		case guitar
		if (RandomInteger (0.0, 1.0) = 0)
			bone = BONE_GUITAR_FRET_POS
		else
			bone = bone_guitar_body
		endif
		case Drum
		b = RandomInteger (0.0, 4.0)
		switch <b>
			case 0
			bone = BONE_GUITAR_STRING_1
			case 1
			bone = BONE_IK_HAND_GUITAR_L
			case 2
			bone = BONE_IK_HAND_GUITAR_R
			case 3
			bone = BONE_GUITAR_FRET_POS
			case 4
			bone = bone_guitar_body
		endswitch
		case vocals
		b = RandomInteger (0.0, 2.0)
		switch <b>
			case 0
			bone = BONE_MIC_STAND
			case 1
			bone = BONE_MIC_ADJUST_HEIGHT
			case 2
			bone = Bone_Mic_Microphone
		endswitch
	endswitch
	FormatText checksumname = scriptID 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	FormatText checksumname = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	spawnscriptlater Create_StarPower_TeslaFX id = <scriptID> params = {
		<...>
		zonePrefix = <zonePrefix>
		teslaFXID = <teslaFXID>
		bone = <bone>
		nodeNum = RandomInteger (1.0, 10.0)
	}
	i = (<i> + 1)
	repeat RandomInteger (2.0, 4.0)
	begin
	wait RandomFloat (0.1, 1.0) seconds
	i = RandomInteger (1.0, 4.0)
	FormatText checksumname = scriptID 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	FormatText checksumname = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	killspawnedscript id = <scriptID>
	DeleteTeslaEffectObject name = <teslaFXID>
	if (<i> = 1 || <i> = 2 || RandomInteger (0.0, 1.0) = 1)
		switch (<part>)
			case bass
			case guitar
			if (RandomInteger (0.0, 1.0) = 0)
				bone = BONE_GUITAR_FRET_POS
			else
				bone = bone_guitar_body
			endif
			case Drum
			b = RandomInteger (0.0, 4.0)
			switch <b>
				case 0
				bone = BONE_GUITAR_STRING_1
				case 1
				bone = BONE_IK_HAND_GUITAR_L
				case 2
				bone = BONE_IK_HAND_GUITAR_R
				case 3
				bone = BONE_GUITAR_FRET_POS
				case 4
				bone = bone_guitar_body
			endswitch
			case vocals
			b = RandomInteger (0.0, 2.0)
			switch <b>
				case 0
				bone = BONE_MIC_STAND
				case 1
				bone = BONE_MIC_ADJUST_HEIGHT
				case 2
				bone = Bone_Mic_Microphone
			endswitch
		endswitch
		spawnscriptlater Create_StarPower_TeslaFX id = <scriptID> params = {
			<...>
			zonePrefix = <zonePrefix>
			teslaFXID = <teslaFXID>
			bone = <bone>
			nodeNum = RandomInteger (1.0, 10.0)
		}
	endif
	repeat
endscript

script Create_StarPower_TeslaFX 
	if (($use_star_power_prototype) = 1)
		return
	endif
	Create_StarPower_TeslaFX_CFunc_Setup
	begin
	if Create_StarPower_TeslaFX_CFunc
		break
	endif
	wait \{1
		gameframe}
	repeat
	Create_StarPower_TeslaFX_CFunc_Cleanup
endscript

script Kill_StarPower_StageFX \{ifEmpty = 1}
	FormatText checksumname = scriptID 'p%p_StarPower_StageFX' p = <player>
	killspawnedscript id = <scriptID>
	FormatText checksumname = teslaParticleFXID 'p%p_StarPower_TeslaParticleFX' p = <player>
	DestroyParticlesByGroupID groupID = <teslaParticleFXID>
	if (<ifEmpty> = 0)
		DestroyParticlesByGroupID \{groupID = starPowerFX}
	endif
	i = 1
	begin
	FormatText checksumname = scriptID 'p%p_StarPower_TeslaFX%i' p = <player> i = <i>
	FormatText checksumname = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <player> i = <i>
	killspawnedscript id = <scriptID>
	DeleteTeslaEffectObject name = <teslaFXID>
	i = (<i> + 1)
	repeat 4
endscript
using_starpower_camera = false

script Do_StarPower_Camera 
	return
	if ($using_starpower_camera = true || $using_walk_camera = true)
		return
	endif
	Change \{using_starpower_camera = true}
	wait \{1
		gameframe}
	Change \{CameraCuts_AllowNoteScripts = false}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras_starpower'
		changetime = 2500
		length = 7000}
	wait \{7
		seconds}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = false}
endscript

script Kill_StarPower_Camera \{changecamera = 1}
	if ($using_starpower_camera = false)
		return
	endif
	killspawnedscript \{name = Do_StarPower_Camera}
	if (<changecamera> = 1)
		CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	endif
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = false}
endscript

script set_star_request_pending 
	printf \{qs(0x5e79940c)}
	wait \{2.5
		seconds}
	printf \{qs(0xd0d1a1fe)}
endscript
use_star_power_prototype = 1

script create_sp_proto_hud_elements 
	if ScreenElementExists \{id = id_sp_hud_proto}
		destroy_sp_proto_hud_elements
	endif
	player = 1
	base_pos = (512.0, 360.0)
	vocals_pos_high = (950.0, 181.0)
	vocals_pos_low = (950.0, 400.0)
	highway_pos_1hw = [(512.0, 320.0)]
	highway_pos_2hw = [(305.0, 365.0) (770.0, 365.0)]
	highway_pos_3hw = [(140.0, 385.0) (550.0, 385.0) (950.0, 385.0)]
	get_num_non_vocals_players_onscreen
	CreateScreenElement \{type = ContainerElement
		parent = root_window
		id = id_sp_hud_proto
		Pos = (0.0, 0.0)
		z_priority = 800}
	GetNumPlayersInGame
	if (<num_players> > 0)
		GetFirstPlayer
		begin
		GetPlayerInfo <player> part
		num_highways = <num_non_vocals_players>
		this_pos = (0.0, 0.0)
		if (<part> = vocals)
			if (<num_players> = 1)
				this_pos = <vocals_pos_low>
			else
				this_pos = <vocals_pos_high>
			endif
		else
			GetPlayerInfo <player> highway_position
			if (<num_highways> = 1)
				this_pos = (<highway_pos_1hw> [0])
			elseif (<num_highways> = 2)
				if (<highway_position> = left)
					this_pos = (<highway_pos_2hw> [0])
				else
					this_pos = (<highway_pos_2hw> [1])
				endif
			elseif (<num_highways> = 3)
				if (<highway_position> = left)
					this_pos = (<highway_pos_3hw> [0])
				elseif (<highway_position> = center)
					this_pos = (<highway_pos_3hw> [1])
				else
					this_pos = (<highway_pos_3hw> [2])
				endif
			endif
		endif
		FormatText checksumname = player_sp_text_id 'p%p_sp_text_id' p = <player>
		FormatText checksumname = player_sp_meter_id 'p%p_sp_meter_id' p = <player>
		CreateScreenElement {
			type = TextElement
			parent = id_sp_hud_proto
			id = <player_sp_text_id>
			font = debug
			scale = 0.75
			rgba = [128 128 128 250]
			text = qs(0x6a9aaf9f)
			just = [right top]
			z_priority = 1
			Pos = <this_pos>
		}
		CreateScreenElement {
			type = SpriteElement
			parent = id_sp_hud_proto
			id = <player_sp_meter_id>
			texture = white
			dims = (65.0, 33.0)
			rgba = [15 15 128 255]
			just = [left top]
			z_priority = 0
			Pos = (<this_pos> + (-60.0, 0.0))
		}
		GetScreenElementProps id = <player_sp_meter_id>
		printstruct <...> channel = zdebug
		GetNextPlayer player = <player>
		repeat <num_players>
	endif
	wait \{1
		gameframe}
	spawnscriptlater \{update_sp_hud_elements}
endscript

script destroy_sp_proto_hud_elements 
	player = 1
	DestroyScreenElement \{id = id_sp_hud_proto}
	killspawnedscript \{name = update_sp_hud_elements}
endscript

script update_sp_hud_elements 
	grey = [128 128 128 255]
	white = [255 255 255 255]
	blue = [69 160 229 255]
	begin
	Color = <grey>
	GetNumPlayersInGame
	if (<num_players> > 0)
		GetFirstPlayer
		begin
		FormatText checksumname = player_sp_text_id 'p%p_sp_text_id' p = <player>
		FormatText checksumname = player_sp_meter_id 'p%p_sp_meter_id' p = <player>
		GetPlayerInfo <player> star_power_amount
		scale = (((1.0, 0.0) * (<star_power_amount> / 100.0)) + (0.0, 1.0))
		Color = <grey>
		if (<star_power_amount> < 50)
			Color = <grey>
		elseif (<star_power_amount> < 100)
			Color = <white>
		else
			Color = <blue>
		endif
		if (<star_power_amount> < 10)
			FormatText TextName = sp_text qs(0x8d1785e9) d = <star_power_amount> DecimalPlaces = 1
		elseif (<star_power_amount> < 100)
			FormatText TextName = sp_text qs(0xdc3aa85e) d = <star_power_amount> DecimalPlaces = 1
		else
			FormatText TextName = sp_text qs(0x48c6d14c) d = <star_power_amount> DecimalPlaces = 1
		endif
		<player_sp_text_id> :SE_SetProps text = <sp_text> rgba = <Color>
		GetNextPlayer player = <player>
		repeat <num_players>
	endif
	wait \{1
		gameframe}
	repeat
endscript

script Create_Highway_Star_Power_Effect_old 
	pos_index = (<player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	GetNumPlayersInGame
	if (<num_players> = 1)
		Pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 0.9) * <height>)
	else
		Pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 1.3) * <height>)
	endif
	FormatText checksumname = cont 'sidebar_container_leftp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namel2>
	CreateScreenElement {
		type = SpriteElement
		id = <namel2>
		parent = <cont>
		material = Mat_sidebar_GLOW_01
		rgba = [0 255 255 255]
		Pos = <Pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	FormatText checksumname = cont 'sidebar_container_rightp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namer2>
	CreateScreenElement {
		type = SpriteElement
		id = <namer2>
		parent = <cont>
		material = Mat_sidebar_GLOW_01
		rgba = [0 255 255 255]
		Pos = <Pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	FormatText checksumname = container_id 'fretbar_containerp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	CreateScreenElement {
		type = SpriteElement
		id = <namec>
		parent = <container_id>
		material = Mat_sidebar_GLOW_01
		rgba = [0 255 255 128]
		Pos = <pos2> (0.0, 720.0)
		rot_angle = 0
		scale = (0.0, 3.0)
		just = [center top]
		z_priority = 1.1
	}
	FormatText checksumname = fx3 'sidebar_Center_SPFXp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx3>
	Create2DParticleSystem {
		id = <fx3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Star02_sys_Particle_Star02
		parent = <namec>
		start_color = [255 255 255 128]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (1.25, 1.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		Emit_Rate = 0.1
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.551
	}
	<namel2> :SE_SetProps Pos = <Pos> scale = (1.0, 4.0) time = 0.5
	<namer2> :SE_SetProps Pos = <Pos> scale = (-1.0, 4.0) time = 0.5
	<namec> :SE_SetProps Pos = <pos2> scale = (5.0, 3.0) time = 0.5
	wait \{0.5
		seconds}
	if ScreenElementExists id = <namel>
		<namel> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namer>
		<namer> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	if ScreenElementExists id = <namec2>
		<namec2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.2
		second}
	Destroy2DParticleSystem kill_when_empty id = <fx3>
	wait \{0.04
		seconds}
	spawnscriptnow pulse_SP_color params = {player = <player>}
endscript

script pulse_SP_color_old 
	begin
	FormatText checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	wait \{0.5
		seconds}
	FormatText checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 255] time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 255] time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 128] time = 0.5
	endif
	wait \{0.5
		seconds}
	repeat
endscript

script Kill_Highway_Star_Power_Effect_old 
	FormatText checksumname = namer2 'sidebar_Right_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.5
		seconds}
	FormatText checksumname = namel 'sidebar_Left_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namel>
	FormatText checksumname = namer 'sidebar_Right_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namer>
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	DestroyScreenElement id = <namec2>
	DestroyScreenElement id = <namel2>
	DestroyScreenElement id = <namer2>
endscript

script Create_Vocals_Star_Power_Effect 
	RequireParams \{[
			player
		]}
	GetPlayerInfo <player> part
	if (<part> != vocals)
		return
	endif
	VocalsHighway_GetId player = <player>
	<vocals_highway_id> :Desc_ResolveAlias name = alias_Rush_Container_Bottom param = bot_rush_cont
	<vocals_highway_id> :Desc_ResolveAlias name = alias_Rush_Container_Top param = top_rush_cont
	<vocals_highway_id> :Desc_ResolveAlias name = alias_visible_highway param = visible_highway
	<visible_highway> :SE_SetProps alpha = 1 time = 0.2
	FormatText checksumname = nameVb1 'Vocals_Bottom_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <nameVb1>
	CreateScreenElement {
		type = SpriteElement
		id = <nameVb1>
		parent = <bot_rush_cont>
		material = SP_Glow_Rush01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	FormatText checksumname = NameVb2 'Vocals_Bottom_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <NameVb2>
	CreateScreenElement {
		type = SpriteElement
		id = <NameVb2>
		parent = <bot_rush_cont>
		material = Mat_sidebar_GLOW_01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	FormatText checksumname = nameVt1 'Vocals_Top_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <nameVt1>
	CreateScreenElement {
		type = SpriteElement
		id = <nameVt1>
		parent = <top_rush_cont>
		material = SP_Glow_Rush01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	FormatText checksumname = NameVt2 'Vocals_Top_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <NameVt2>
	CreateScreenElement {
		type = SpriteElement
		id = <NameVt2>
		parent = <top_rush_cont>
		material = Mat_sidebar_GLOW_01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	FormatText checksumname = fxt1 'Vocals_Top_SPFXp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxt1>
	Create2DParticleSystem {
		id = <fxt1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <nameVt1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	FormatText checksumname = fxb1 'Vocals_Bottom_SPFXp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxb1>
	Create2DParticleSystem {
		id = <fxb1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <nameVb1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	<nameVb1> :SE_SetProps Pos = {(1500.0, 0.0) relative} time = 0.5
	<NameVb2> :SE_SetProps Pos = {(200.0, 0.0) relative} scale = (1.0, 9.0) time = 0.5
	<nameVt1> :SE_SetProps Pos = {(1500.0, 0.0) relative} time = 0.5
	<NameVt2> :SE_SetProps Pos = {(200.0, 0.0) relative} scale = (1.0, 9.0) time = 0.5
	wait \{0.5
		seconds}
	Destroy2DParticleSystem kill_when_empty id = <fxt1>
	Destroy2DParticleSystem kill_when_empty id = <fxb1>
endscript

script Kill_Vocals_Star_Power_Effect 
	vocals_get_highway_view player = <player>
	if (<highway_view> = karaoke)
		VocalsHighway_GetId player = <player>
		if ScreenElementExists id = <vocals_highway_id>
			<vocals_highway_id> :Desc_ResolveAlias name = alias_visible_highway param = visible_highway
			<visible_highway> :SE_SetProps alpha = 0 time = 0.2
		endif
	endif
	FormatText checksumname = nameVt1 'Vocals_Top_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <nameVt1>
	FormatText checksumname = nameVb1 'Vocals_Bottom_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <nameVb1>
	FormatText checksumname = NameVt2 'Vocals_Top_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <NameVt2>
		<NameVt2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	FormatText checksumname = NameVb2 'Vocals_bottom_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <NameVb2>
		<NameVb2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	wait \{0.5
		seconds}
	FormatText checksumname = NameVb2 'Vocals_Top_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <NameVb2>
	FormatText checksumname = NameVt2 'Vocals_Top_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <NameVt2>
endscript

script lil_SP_Squirt 
	RequireParams \{[
			player
		]}
	FormatText checksumname = right_sp_id 'sidebar_right_sp_meterp%p' p = <player>
	<right_sp_id> :Desc_ResolveAlias name = alias_needle_container param = SP_squirt_cont
	FormatText checksumname = fx1 'sidebar_SPFX_Squirtp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx1>
	Create2DParticleSystem {
		id = <fx1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <SP_squirt_cont>
		start_color = [255 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 3
		emit_radius = 3
		Emit_Rate = 0.01
		emit_dir = 66.0
		emit_spread = 180.0
		velocity = 3.3
		friction = (0.0, 12.0)
		time = 0.551
	}
	wait \{0.25
		seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx1>
endscript

script lil_SP_Squirt_Vocals 
	RequireParams \{[
			player
		]}
	GetPlayerInfo <player> vocals_highway_view
	if ($end_credits = 1 || <vocals_highway_view> = karaoke)
		return
	endif
	GetPlayerInfo <player> combo_meter_id
	<combo_meter_id> :Desc_ResolveAlias name = alias_vocals_star_power_meter param = id
	<id> :Desc_ResolveAlias name = alias_VSPM_Needle_Container param = SP_squirt_vocals_cont
	FormatText checksumname = fx1 'Vocals_SPFX_Squirtp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx1>
	Create2DParticleSystem {
		id = <fx1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <SP_squirt_vocals_cont>
		start_color = [128 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (3.25, 3.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 1
		emit_radius = 1
		Emit_Rate = 0.01
		emit_dir = 90.0
		emit_spread = 0.0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.551
	}
	wait \{0.15
		seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx1>
endscript

script Create_Highway_Star_Power_Effect 
	pos_index = (<player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	Pos = ((0.0, -1.4) * <height>)
	pos2 = ((0.0, 0.9) * <height>)
	GetNumPlayersInGame
	if (<num_players> = 1)
		endpos_L = {(140.0, -80.0) relative}
		endpos_R = {(-140.0, -80.0) relative}
		Rot_L = -50
		Rot_R = 50
	else
		endpos_L = {(120.0, -20.0) relative}
		endpos_R = {(-120.0, -20.0) relative}
		Rot_L = -33
		Rot_R = 33
	endif
	FormatText checksumname = cont 'sidebar_container_leftp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namel 'sidebar_Left_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namel>
	CreateScreenElement {
		type = SpriteElement
		id = <namel>
		parent = <cont>
		material = Mat_sidebar_GLOW_02
		rgba = [0 255 255 128]
		Pos = <Pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	FormatText checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namel2>
	CreateScreenElement {
		type = SpriteElement
		id = <namel2>
		parent = <cont>
		material = Mat_sidebar_GLOW_02
		rgba = [255 255 255 255]
		Pos = <Pos>
		scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	FormatText checksumname = namels1 'sidebar_Left_star01p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namels1>
	CreateScreenElement {
		type = SpriteElement
		parent = <namel>
		id = <namels1>
		scale = (-0.25, 0.25)
		Pos = (20.0, 80.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = namels2 'sidebar_Left_star02p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namels2>
	CreateScreenElement {
		type = SpriteElement
		parent = <namel>
		id = <namels2>
		scale = (-0.19, 0.15)
		Pos = (20.0, 46.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = namels3 'sidebar_Left_star03p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namels3>
	CreateScreenElement {
		type = SpriteElement
		parent = <namel>
		id = <namels3>
		scale = (-0.14, 0.1)
		Pos = (20.0, 22.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = cont 'sidebar_container_rightp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namer 'sidebar_Right_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namer>
	CreateScreenElement {
		type = SpriteElement
		id = <namer>
		parent = <cont>
		material = Mat_sidebar_GLOW_02
		rgba = [0 255 255 128]
		Pos = <Pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	FormatText checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namer2>
	CreateScreenElement {
		type = SpriteElement
		id = <namer2>
		parent = <cont>
		material = Mat_sidebar_GLOW_02
		rgba = [255 255 255 255]
		Pos = <Pos>
		scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	FormatText checksumname = namers1 'sidebar_Right_star01p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namers1>
	CreateScreenElement {
		type = SpriteElement
		parent = <namer>
		id = <namers1>
		scale = (-0.3, 0.28)
		Pos = (20.0, 100.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = namers2 'sidebar_Right_star02p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namers2>
	CreateScreenElement {
		type = SpriteElement
		parent = <namer>
		id = <namers2>
		scale = (-0.2, 0.18)
		Pos = (20.0, 62.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = namers3 'sidebar_Right_star03p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namers3>
	CreateScreenElement {
		type = SpriteElement
		parent = <namer>
		id = <namers3>
		scale = (-0.16, 0.120000005)
		Pos = (20.0, 33.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = namers4 'sidebar_Right_star04p%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namers4>
	CreateScreenElement {
		type = SpriteElement
		parent = <namer>
		id = <namers4>
		scale = (-0.1, 0.06)
		Pos = (20.0, 10.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	FormatText checksumname = container_id 'fretbar_containerp%p' p = <player> AddToStringLookup = true
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	CreateScreenElement {
		type = SpriteElement
		id = <namec>
		parent = <container_id>
		material = Mat_sidebar_GLOW_02
		rgba = [0 255 255 0]
		Pos = <pos2>
		rot_angle = 0
		scale = (4.0, 2.5)
		just = [center top]
		z_priority = 1.1
	}
	FormatText checksumname = fxsr1 'sidebar_star01Rp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr1>
	Create2DParticleSystem {
		id = <fxsr1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.5)
		end_scale = (0.8, 0.5)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsr2 'sidebar_star02Rp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr2>
	Create2DParticleSystem {
		id = <fxsr2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.6)
		end_scale = (0.8, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsr3 'sidebar_star03Rp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr3>
	Create2DParticleSystem {
		id = <fxsr3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.3)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsr4 'sidebar_star04Rp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr4>
	Create2DParticleSystem {
		id = <fxsr4>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers4>
		start_color = [0 255 255 120]
		end_color = [0 0 255 0]
		start_scale = (0.3, 0.2)
		end_scale = (0.3, 0.2)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsl1 'sidebar_star01Lp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl1>
	Create2DParticleSystem {
		id = <fxsl1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (1.0, 0.6)
		end_scale = (1.0, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsl2 'sidebar_star02Lp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl2>
	Create2DParticleSystem {
		id = <fxsl2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.4)
		end_scale = (0.8, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	FormatText checksumname = fxsl3 'sidebar_star03Lp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl3>
	Create2DParticleSystem {
		id = <fxsl3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	<namel> :SE_SetProps Pos = <Pos> scale = (4.0, 4.0) time = 0.25
	<namel2> :SE_SetProps Pos = <Pos> scale = (1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namer> :SE_SetProps Pos = <Pos> scale = (-4.0, 4.0) time = 0.25
	<namer2> :SE_SetProps Pos = <Pos> scale = (-1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namec> :SE_SetProps Pos = <pos2> scale = (8.0, 2.4) time = 0.25
	wait \{0.25
		seconds}
	if ScreenElementExists id = <namel>
		<namel> :SE_SetProps alpha = 0 time = 0.5 Pos = <endpos_L> rot_angle = <Rot_L>
	endif
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namer>
		<namer> :SE_SetProps rgba alpha = 0 time = 0.5 Pos = <endpos_R> rot_angle = <Rot_R>
	endif
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 128] time = 0.5
	endif
	wait \{0.25
		seconds}
	FormatText checksumname = fx3 'sidebar_Center3_SPFXp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx3>
	Create2DParticleSystem {
		id = <fx3>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Star02_sys_Particle_Star02
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (0.5, 0.5)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		Emit_Rate = 0.05
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.0
	}
	FormatText checksumname = fx2 'sidebar_Center2_SPFXp%p' p = <player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx2>
	Create2DParticleSystem {
		id = <fx2>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (2.25, 2.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 0
		emit_radius = 777
		Emit_Rate = 0.05
		emit_dir = 0.0
		emit_spread = 33.0
		velocity = 1.1
		friction = (0.0, 12.0)
		time = 1.0
	}
	wait \{0.25
		seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx2>
	Destroy2DParticleSystem kill_when_empty id = <fx3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr1>
	Destroy2DParticleSystem kill_when_empty id = <fxsr2>
	Destroy2DParticleSystem kill_when_empty id = <fxsr3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr4>
	Destroy2DParticleSystem kill_when_empty id = <fxsl1>
	Destroy2DParticleSystem kill_when_empty id = <fxsl2>
	Destroy2DParticleSystem kill_when_empty id = <fxsl3>
	wait \{0.25
		seconds}
	DestroyScreenElement id = <namel>
	DestroyScreenElement id = <namer>
	if ScreenElementExists id = <namel2>
		<namel2> :Obj_SpawnScriptNow pulse_SP_color params = {player = <player>}
	endif
endscript

script pulse_SP_color 
	begin
	FormatText checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 64] time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 40] time = 0.5
	endif
	wait \{0.5
		seconds}
	FormatText checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps rgba = [0 255 255 255] time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps rgba = [0 255 255 255] time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps rgba = [0 255 255 72] time = 0.5
	endif
	wait \{0.5
		seconds}
	repeat
endscript

script Kill_Highway_Star_Power_Effect 
	FormatText checksumname = namer2 'sidebar_Right2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :SE_SetProps alpha = 0 time = 0.5
	endif
	FormatText checksumname = namel2 'sidebar_Left2_SPGlowp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :SE_SetProps alpha = 0 time = 0.5
	endif
	FormatText checksumname = namec 'sidebar_Center_SPRushp%p' p = <player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :SE_SetProps alpha = 0 time = 0.5
	endif
	wait \{0.5
		seconds}
	DestroyScreenElement id = <namec>
	DestroyScreenElement id = <namel2>
	DestroyScreenElement id = <namer2>
endscript
