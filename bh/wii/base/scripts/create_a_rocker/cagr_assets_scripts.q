edit_graphic_max_layers = 20
default_graphic_layer_info = [
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 0
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 1
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 2
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 3
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 4
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 5
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 6
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 7
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 8
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 9
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 10
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 11
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 12
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 13
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 14
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 15
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 16
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 17
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 18
	}
	{
		texture_id = None
		texture_name = qs(0x00000000)
		string = qs(0x00000000)
		canvas_id = None
		font_id = 0
		pos_x = 64
		pos_y = 64
		rot = 0
		scale_x = 1.0
		scale_y = 1.0
		flip_h = 0
		flip_v = 0
		shear_x = 0.0
		shear_y = 0.0
		Color = None
		hsva = [
			0
			0
			60
			255
		]
		layer_id = 19
	}
]
temporary_graphic_layer_info = {
	texture_id = None
	texture_name = qs(0x00000000)
	string = qs(0x00000000)
	canvas_id = None
	font_id = 0
	pos_x = 64
	pos_y = 64
	rot = 0
	scale_x = 1.0
	scale_y = 1.0
	flip_h = 0
	flip_v = 0
	shear_x = 0.0
	shear_y = 0.0
	Color = None
	hsva = [
		0
		0
		60
		255
	]
}
edit_graphic_layer_infos = [
]
edit_graphic_revert_infos = [
]
edit_graphic_temp_texture_id = None
cjp_my_menu = 1
eg_creating_premade = 0
eg_premade_key_color = [
	60
	60
	60
	255
]
eg_selected_text_color = [
	255
	255
	255
	255
]
eg_unselected_text_color = [
	64
	64
	64
	255
]
eg_unselectable_text_color = [
	100
	100
	100
	70
]
eg_selected_title_color = [
	40
	40
	110
	255
]
eg_unselected_title_color = [
	0
	0
	80
	255
]
eg_selected_background_color = [
	16
	16
	16
	255
]
eg_unselected_background_color = [
	64
	64
	64
	255
]
eg_inuse_background_color = [
	32
	32
	32
	255
]
eg_unselected_image_color = [
	64
	64
	64
	255
]
eg_selected_image_color = [
	255
	255
	255
	255
]
eg_image_background_color = [
	32
	32
	32
	255
]
eg_current_layer_menu_index = 0
eg_current_layer_info_index = 0
eg_original_layer_info_index = 0
eg_thumb_scale = (1.0, 1.0)
eg_thumb_pos = (47.0, 2.0)
eg_canvas_scale_factor = 2.875
eg_canvas_pos_factor = 2.875
eg_canvas_base_z = 0
eg_color_swatch_values = [
	[
		255
		255
		255
		255
	]
	[
		255
		0
		0
		255
	]
	[
		255
		64
		0
		255
	]
	[
		255
		255
		0
		255
	]
	[
		0
		255
		0
		255
	]
	[
		0
		0
		255
		255
	]
	[
		80
		0
		255
		255
	]
	[
		255
		0
		80
		255
	]
	[
		0
		0
		0
		255
	]
	[
		50
		0
		0
		255
	]
	[
		45
		22
		10
		255
	]
	[
		0
		50
		0
		255
	]
	[
		0
		255
		255
		255
	]
	[
		0
		60
		60
		255
	]
	[
		0
		0
		50
		255
	]
	[
		50
		0
		50
		255
	]
]
eg_font_names = [
	{
		Name = qs(0xda836dff)
		spacing = 0.8
	}
	{
		Name = qs(0xf1ae3e3c)
		spacing = 0.7
	}
	{
		Name = qs(0xcd835914)
		spacing = 0.55
	}
	{
		Name = qs(0x264997aa)
		spacing = 0.65000004
	}
	{
		Name = qs(0xc31438b6)
		spacing = 0.82
	}
	{
		Name = qs(0x6c8c2f13)
		spacing = 0.8
	}
	{
		Name = qs(0xb44bd481)
		spacing = 0.8
	}
	{
		Name = qs(0xda736609)
		spacing = 0.45000002
	}
]
eg_in_create_a_graphic = 0
eg_pak_loaded = 0
eg_pak_always_in_frontend = 1
eg_test_graffiti_as_sprite = 0

script edit_graphic_prepare_sprite_infos 
	GetArraySize ($edit_graphic_layer_infos)
	if (<array_Size> <= 0)
		Change edit_graphic_layer_infos = ($default_graphic_layer_info)
	endif
	<sprite_infos> = []
	if (($edit_graphic_layer_infos [0].texture_id) = None)
		if GotParam \{reload_on_empty_logo}
			GetGlobalTags \{progression_band_info
				param = band_logo}
			GetArraySize <band_logo>
			if (<array_Size> > 0)
				Change edit_graphic_layer_infos = <band_logo>
			endif
		endif
	endif
	<index> = 0
	begin
	<layer_info_index> = 0
	begin
	if (($edit_graphic_layer_infos [<layer_info_index>].layer_id) = <index>)
		break
	endif
	<layer_info_index> = (<layer_info_index> + 1)
	repeat ($edit_graphic_max_layers)
	if (($edit_graphic_layer_infos [<layer_info_index>].texture_id) = None)
		if NOT (($edit_graphic_layer_infos [<layer_info_index>].string) = qs(0x00000000))
			edit_graphic_prepare_text_sprite_infos info_index = <layer_info_index>
			<sprite_infos> = (<sprite_infos> + <text_infos>)
		endif
	else
		<PosX> = (($edit_graphic_layer_infos [<layer_info_index>].pos_x) - 64)
		<PosY> = (($edit_graphic_layer_infos [<layer_info_index>].pos_y) - 64)
		hsvtorgb hsv = ($edit_graphic_layer_infos [<layer_info_index>].hsva)
		<tmp_array> = [
			{
				texture_id = ($edit_graphic_layer_infos [<layer_info_index>].texture_id)
				pos_x = <PosX>
				pos_y = <PosY>
				rot = ($edit_graphic_layer_infos [<layer_info_index>].rot)
				scale_x = ($edit_graphic_layer_infos [<layer_info_index>].scale_x)
				scale_y = ($edit_graphic_layer_infos [<layer_info_index>].scale_y)
				flip_h = ($edit_graphic_layer_infos [<layer_info_index>].flip_h)
				flip_v = ($edit_graphic_layer_infos [<layer_info_index>].flip_v)
				rgba = <rgb>
				Color = ($edit_graphic_layer_infos [<layer_info_index>].Color)
				shear_x = ($edit_graphic_layer_infos [<layer_info_index>].shear_x)
				shear_y = ($edit_graphic_layer_infos [<layer_info_index>].shear_y)
				layer_id = ($edit_graphic_layer_infos [<layer_info_index>].layer_id)
			}
		]
		<sprite_infos> = (<sprite_infos> + <tmp_array>)
	endif
	<index> = (<index> + 1)
	RemoveParameter \{layer_info_index}
	repeat ($edit_graphic_max_layers)
	return sprite_infos = <sprite_infos>
endscript

script edit_graphic_prepare_text_sprite_infos 
	<layer_string> = ($edit_graphic_layer_infos [<info_index>].string)
	StringToCharArray string = <layer_string>
	GetArraySize <char_array>
	<font_spacing> = (eg_font_names [($edit_graphic_layer_infos [<info_index>].font_id)].spacing)
	<container_scale> = ($edit_graphic_layer_infos [<info_index>].Scale)
	<char_image_size> = ((64.0 / <array_Size>) * <container_scale>)
	<container_pos_x> = ($edit_graphic_layer_infos [<info_index>].pos_x)
	<char_x_pos> = ((0 - ((<char_image_size> * <array_Size>) / 2)) + (<char_image_size> / 2))
	<char_y_pos> = 0
	<font> = (eg_font_names [($edit_graphic_layer_infos [<info_index>].font_id)].Name)
	<Scale> = (<char_image_size> / 64.0)
	if NOT (<array_Size> = 1)
		if NOT (<font_spacing> = 0)
			<Scale> = (<Scale> * (1 / <font_spacing>))
		endif
	endif
	<rot> = ($edit_graphic_layer_infos [<info_index>].rot)
	hsvtorgb hsv = ($edit_graphic_layer_infos [<info_index>].hsva)
	<text_infos> = []
	<index> = 0
	begin
	<char> = (<char_array> [<index>])
	if (<char> = qs(0x2ba2c9a2))
		formatText checksumName = texture '%f_a' f = <font> l = <char>
		<rgba> = [0 , 0 , 0 , 0]
	else
		formatText checksumName = texture '%f_%l' f = <font> l = <char>
		<rgba> = <rgb>
	endif
	get2dposfrom2dvec magnitude = <char_x_pos> theta = <rot>
	<tmp_array> = [
		{
			texture_id = <texture>
			pos_x = (<X> + (<container_pos_x> - 32))
			pos_y = (<y> + (($edit_graphic_layer_infos [<info_index>].pos_y) - 32))
			rot = <rot>
			Scale = <Scale>
			flip_h = ($edit_graphic_layer_infos [<info_index>].flip_h)
			flip_v = ($edit_graphic_layer_infos [<info_index>].flip_v)
			rgba = <rgba>
			layer_id = ($edit_graphic_layer_infos [<info_index>].layer_id)
		}
	]
	<text_infos> = (<text_infos> + <tmp_array>)
	<char_x_pos> = (<char_x_pos> + <char_image_size>)
	<index> = (<index> + 1)
	repeat <array_Size>
	<index> = (<array_Size> - 1)
	<reverse_infos> = []
	begin
	<tmp_array> = [{(<text_infos> [<index>])}]
	<reverse_infos> = (<reverse_infos> + <tmp_array>)
	<index> = (<index> - 1)
	repeat <array_Size>
	return text_infos = <reverse_infos>
endscript
