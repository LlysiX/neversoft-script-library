master_leaderboard_song_list = [
	{
		leaderboard_id = all_songs
		colums = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_song_list_ps3 = [
	{
		leaderboard_id = all_songs
		colums = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_singleplayer_list = [
	{
		leaderboard_id = 0xe76b6a5e
		title = "CAREER"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_easy
		title = "CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_med
		title = "CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_hard
		title = "CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_expert
		title = "CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign
		title = "CAMPAIGN"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_easy
		title = "CAMPAIGN - EASY"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_med
		title = "CAMPAIGN - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_hard
		title = "CAMPAIGN - HARD"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_expert
		title = "CAMPAIGN - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"GAMERTAG"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_singleplayer_list_ps3 = [
	{
		leaderboard_id = 0xe76b6a5e
		title = "CAREER"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_easy
		title = "CAREER - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_med
		title = "CAREER - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_hard
		title = "CAREER - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_career_expert
		title = "CAREER - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign
		title = "CAMPAIGN"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_easy
		title = "CAMPAIGN - EASY"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_med
		title = "CAMPAIGN - MEDIUM"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_hard
		title = "CAMPAIGN - HARD"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = lb_campaign_expert
		title = "CAMPAIGN - EXPERT"
		columns = 3
		headers = [
			"RANK"
			"NAME"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_multiplayer_list = [
	{
		leaderboard_id = 0x1c3ca6d6
		title = "ONLINE FACE-OFF"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0x59a3139e
		title = "ONLINE PRO FACE-OFF"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xa9585239
		title = "ONLINE BATTLE"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xa502321b
		title = "ONLINE PRO FACE-OFF CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0x9c6cdbb6
		title = "ONLINE FACE-OFF CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xe9803349
		title = "ONLINE BATTLE CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"GAMERTAG"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
]
master_leaderboard_multiplayer_list_ps3 = [
	{
		leaderboard_id = 0x1c3ca6d6
		title = "ONLINE FACE-OFF"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0x59a3139e
		title = "ONLINE PRO FACE-OFF"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xa9585239
		title = "ONLINE BATTLE"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"SCORE"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xa502321b
		title = "ONLINE PRO FACE-OFF CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0x9c6cdbb6
		title = "ONLINE FACE-OFF CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
	{
		leaderboard_id = 0xe9803349
		title = "ONLINE BATTLE CONSECUTIVE WINS"
		columns = 4
		headers = [
			"RANK"
			"NAME"
			"DIFFICULTY"
			"STREAK"
		]
		column_pos = [
			0
			50
			550
			630
		]
		colum_ids = [
			0
		]
	}
]
current_leaderboard_id = all_songs
current_leaderboard_group = single
current_leaderboard_array = master_leaderboard_singleplayer_list
lb_selection_index = 0
lb_offset = 1

script create_leaderboard_groups_menu {
		menu_id = online_leaderboard_groups_menu
		vmenu_id = online_leaderboard_groups_vmenu
		pos = (540.0, 100.0)
	}
	new_menu scrollid = <menu_id> vmenuid = <vmenu_id> use_backdrop = (0) menu_pos = <pos>
	create_menu_backdrop texture = venue_bg
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = text_a1
		scale = 0.75
		rgba = [128 225 128 250]
		text = "Leaderboards"
		just = [left top]
		block_events
	}
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = text_a1
		scale = 0.75
		rgba = [210 210 210 250]
		text = "Individual Songs"
		just = [left top]
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
			{pad_choose online_select_leaderboard_group params = {group = song global_list = gh3_songlist}}
		]
	}
	if isxenon
		createscreenelement {
			type = textelement
			parent = <vmenu_id>
			font = text_a1
			scale = 0.75
			block_events
			rgba = [128 128 128 250]
			text = "Single Player"
			just = [left top]
			event_handlers = [
				{focus menu_focus}
				{unfocus menu_unfocus}
				{pad_choose online_select_leaderboard_group params = {group = single global_list = master_leaderboard_singleplayer_list}}
			]
		}
		createscreenelement {
			type = textelement
			parent = <vmenu_id>
			font = text_a1
			scale = 0.75
			block_events
			rgba = [128 128 128 250]
			text = "Multiplayer"
			just = [left top]
			event_handlers = [
				{focus menu_focus}
				{unfocus menu_unfocus}
				{pad_choose online_select_leaderboard_group params = {group = multi global_list = master_leaderboard_multiplayer_list}}
			]
		}
	else
		createscreenelement {
			type = textelement
			parent = <vmenu_id>
			font = text_a1
			scale = 0.75
			block_events
			rgba = [128 128 128 250]
			text = "Single Player"
			just = [left top]
			event_handlers = [
				{focus menu_focus}
				{unfocus menu_unfocus}
				{pad_choose online_select_leaderboard_group params = {group = single global_list = master_leaderboard_singleplayer_list_ps3}}
			]
		}
		createscreenelement {
			type = textelement
			parent = <vmenu_id>
			font = text_a1
			scale = 0.75
			block_events
			rgba = [128 128 128 250]
			text = "Multiplayer"
			just = [left top]
			event_handlers = [
				{focus menu_focus}
				{unfocus menu_unfocus}
				{pad_choose online_select_leaderboard_group params = {group = multi global_list = master_leaderboard_multiplayer_list_ps3}}
			]
		}
	endif
	change user_control_pill_text_color = [0 0 0 255]
	change user_control_pill_color = [180 180 180 255]
	add_user_control_helper text = "SELECT" button = green z = 100
	add_user_control_helper text = "BACK" button = red z = 100
	add_user_control_helper text = "UP/DOWN" button = strumbar z = 100
	launchevent type = focus target = <vmenu_id>
endscript

script destroy_leaderboard_groups_menu 
	clean_up_user_control_helpers
	destroy_menu \{menu_id = online_leaderboard_groups_menu}
	destroy_menu_backdrop
endscript

script online_select_leaderboard_group 
	change current_leaderboard_group = <group>
	change current_leaderboard_array = <global_list>
	ui_flow_manager_respond_to_action \{action = select_leaderboard_group}
endscript

script create_leaderboard_group_listing_menu {
		menu_id = online_leaderboard_select_menu
		vmenu_id = online_leaderboard_select_vmenu
		pos = (380.0, 100.0)
	}
	new_menu scrollid = <menu_id> vmenuid = <vmenu_id> use_backdrop = (0) menu_pos = <pos>
	create_menu_backdrop texture = venue_bg
	getarraysize ($current_leaderboard_array)
	array_entry = 0
	begin
	switch ($current_leaderboard_group)
		case song
		get_song_struct song = ($gh3_songlist [<array_entry>])
		<title> = (<song_struct>.title)
		case 0x9333b8e1
		get_song_struct song = ($gh3_songlist [<array_entry>])
		<title> = (<song_struct>.title)
		default
		<title> = (($current_leaderboard_array) [<array_entry>].title)
	endswitch
	if ((($current_leaderboard_group) = song) || (($current_leaderboard_group) = 0x9333b8e1))
		if (<song_struct>.version = gh3)
			createscreenelement {
				type = textelement
				parent = <vmenu_id>
				font = text_a1
				scale = 0.5
				rgba = [210 210 210 250]
				text = <title>
				just = [left top]
				event_handlers = [
					{focus menu_focus}
					{unfocus menu_unfocus}
					{pad_choose select_leaderboard_from_list params = {leaderboard_id = ($gh3_songlist [<array_entry>])}}
				]
			}
		endif
	else
		createscreenelement {
			type = textelement
			parent = <vmenu_id>
			font = text_a1
			scale = 0.5
			rgba = [210 210 210 250]
			text = <title>
			just = [left top]
			event_handlers = [
				{focus menu_focus}
				{unfocus menu_unfocus}
				{pad_choose select_leaderboard_from_list params = {leaderboard_id = (($current_leaderboard_array) [<array_entry>].leaderboard_id)}}
			]
		}
	endif
	<array_entry> = (<array_entry> + 1)
	repeat <array_size>
	change user_control_pill_text_color = [0 0 0 255]
	change user_control_pill_color = [180 180 180 255]
	add_user_control_helper text = "SELECT" button = green z = 100
	add_user_control_helper text = "BACK" button = red z = 100
	add_user_control_helper text = "UP/DOWN" button = strumbar z = 100
	launchevent type = focus target = <vmenu_id>
endscript

script destroy_leaderboard_group_listing_menu 
	clean_up_user_control_helpers
	destroy_menu \{menu_id = online_leaderboard_select_menu}
	destroy_menu_backdrop
endscript

script select_leaderboard_from_list 
	change current_leaderboard_id = <leaderboard_id>
	ui_flow_manager_respond_to_action \{action = select_leaderboard}
endscript

script create_leaderboard_menu {
		menu_id = online_leaderboard_menu
		vmenu_id = 0xc7d30aef
		pos = (380.0, 100.0)
	}
	new_menu scrollid = <menu_id> vmenuid = <vmenu_id> use_backdrop = (1) menu_pos = <pos>
	create_menu_backdrop texture = venue_bg
	if ((($current_leaderboard_group) = song) || (($current_leaderboard_group) = 0x9333b8e1))
		get_leaderboard_headers song = true
	else
		get_leaderboard_headers song = false
	endif
	new_leaderboard_menu title = <title>
	request_leaderboard <...>
	change user_control_pill_text_color = [0 0 0 255]
	change user_control_pill_color = [180 180 180 255]
	add_user_control_helper text = "GAMER CARD" button = green z = 100
	add_user_control_helper text = "BACK" button = red z = 100
	add_user_control_helper text = "FILTERS" button = yellow z = 100
	add_user_control_helper text = "UP/DOWN" button = strumbar z = 100
endscript

script add_leaderboard_rows_to_menu 
	printf "--- add_leaderboard_rows_to_menu"
	if gotparam leaderboard_data
		<array_count> = 0
		getarraysize <leaderboard_data>
		begin
		if (<array_size> <= 0)
			break
		endif
		formattext checksumname = leaderboard_rank 'leaderboard_entry_%i_rank' i = <array_count>
		formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = <array_count>
		formattext checksumname = leaderboard_score 'leaderboard_entry_%i_score' i = <array_count>
		formattext textname = rank "%a" a = (<leaderboard_data> [<array_count>].data [0])
		formattext textname = text "%a" a = (<leaderboard_data> [<array_count>].data [1])
		formattext textname = score "%a" a = (<leaderboard_data> [<array_count>].data [2])
		<leaderboard_rank> :setprops text = <rank>
		<leaderboard_entry> :setprops text = <text> unblock_events
		<leaderboard_entry> :settags player_xuid = (<leaderboard_data> [<array_count>].player_xuid)
		<leaderboard_score> :setprops text = <score>
		<array_count> = (<array_count> + 1)
		repeat <array_size>
	else
		printf "did not recieve leaderboard information"
	endif
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = ($lb_selection_index)
	launchevent type = focus target = gamertag_vmenu data = {child_id = <leaderboard_entry>}
endscript

script destroy_leaderboard_menu 
	clean_up_user_control_helpers
	destroy_menu \{menu_id = online_leaderboard_menu}
	destroy_menu_backdrop
	if screenelementexists \{id = leaderboard_container}
		destroyscreenelement \{id = leaderboard_container}
	endif
endscript

script get_leaderboard_headers song = true
	getarraysize ($current_leaderboard_array)
	if (<song> = true)
		if isxenon
			<columns> = ($master_leaderboard_song_list [0].column_ids)
			<headers> = ($master_leaderboard_song_list [0].headers)
		else
			<columns> = ($master_leaderboard_song_list_ps3 [0].column_ids)
			<headers> = ($master_leaderboard_song_list_ps3 [0].headers)
		endif
		get_song_title song = ($current_leaderboard_id)
		<title> = <song_title>
	else
		getarraysize ($current_leaderboard_array)
		array_entry = 0
		begin
		if ((($current_leaderboard_array) [<array_entry>].leaderboard_id) = ($current_leaderboard_id))
			<columns> = (($current_leaderboard_array) [<array_entry>].column_ids)
			<headers> = (($current_leaderboard_array) [<array_entry>].headers)
			<title> = (($current_leaderboard_array) [<array_entry>].title)
		endif
		<array_entry> = (<array_entry> + 1)
		repeat <array_size>
	endif
	return columns = <columns> headers = <headers> title = <title>
endscript

script 0x75b79675 
	ui_flow_manager_respond_to_action \{action = pull_up_filter_dialog}
endscript

script 0x9f122475 
endscript

script 0x798940f8 
endscript

script 0x3018c1c9 
	printf \{"we're getting here, now we just need the proper XUID"}
endscript

script leaderboard_previous_leaderboard 
	get_prev_leaderboard_from_checksum leaderboard = ($current_leaderboard_id)
	change current_leaderboard_id = <leaderboard>
	ui_flow_manager_respond_to_action \{action = prev_leaderboard}
endscript

script leaderboard_next_leaderboard 
	get_next_leaderboard_from_checksum leaderboard = ($current_leaderboard_id)
	change current_leaderboard_id = <leaderboard>
	ui_flow_manager_respond_to_action \{action = next_leaderboard}
endscript

script leaderboard_back_action 
	ui_flow_manager_respond_to_action \{action = go_back}
endscript

script create_leaderboard_filter_dialog {
		menu_id = online_leaderboard_filter_menu
		vmenu_id = online_leaderboard_filter_vmenu
		pos = (400.0, 525.0)
	}
	0x6374fc81 = diff
	0x1d509e5d = 0x7be1b2e1
	diff_text = 0xf6cfc5de
	0x414c819d = search
	0x273b3beb = 0x59d9cffd
	0x9f6e4d51 = search_type
	0xc158a174 = time
	0x567c197e = 0xd9cdef14
	time_text = 0xde9ca1fb
	new_menu scrollid = <menu_id> vmenuid = <vmenu_id> use_backdrop = (1) menu_pos = <pos>
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = text_a1
		scale = 0.75
		rgba = [210 210 210 250]
		text = "Search Filters"
		just = [left top]
		block_events
	}
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		id = <0x6374fc81>
		font = text_a1
		scale = 0.5
		rgba = [210 210 210 250]
		text = "Difficulty:"
		just = [left top]
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
			{pad_choose 0x7c1f9e1b params = {to = <0x1d509e5d> from = <vmenu_id>}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <0x1d509e5d>
		parent = <0x6374fc81>
		pos = (275.0, 0.0)
		just = [left top]
		event_handlers = [
			{pad_up net_custom_up_down params = {type = diff text = <diff_text> global = leaderboarddiffvalue direction = up}}
			{pad_down net_custom_up_down params = {type = diff text = <diff_text> global = leaderboarddiffvalue direction = down}}
			{pad_back net_commit_or_reset_params params = {to = <vmenu_id> from = <0x1d509e5d>}}
			{pad_choose net_commit_or_reset_params params = {to = <vmenu_id> from = <0x1d509e5d>}}
		]
	}
	createscreenelement {
		type = textelement
		id = <diff_text>
		parent = <0x1d509e5d>
		font = text_a1
		scale = 1.0
		rgba = [210 210 210 250]
		text = ($filtertypes.diff.values [($leaderboarddiffvalue)])
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
		]
	}
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		id = <0x414c819d>
		font = text_a1
		scale = 0.5
		rgba = [210 210 210 250]
		text = "Search for:"
		just = [left top]
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
			{pad_choose 0x7c1f9e1b params = {to = <0x273b3beb> from = <vmenu_id>}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <0x273b3beb>
		parent = <0x414c819d>
		pos = (275.0, 0.0)
		just = [left top]
		event_handlers = [
			{pad_up net_custom_up_down params = {type = search text = <0x9f6e4d51> global = leaderboardsearchvalue direction = up}}
			{pad_down net_custom_up_down params = {type = search text = <0x9f6e4d51> global = leaderboardsearchvalue direction = down}}
			{pad_back net_commit_or_reset_params params = {to = <vmenu_id> from = <0x273b3beb>}}
			{pad_choose net_commit_or_reset_params params = {to = <vmenu_id> from = <0x273b3beb>}}
		]
	}
	createscreenelement {
		type = textelement
		id = <0x9f6e4d51>
		parent = <0x273b3beb>
		font = text_a1
		scale = 1.0
		rgba = [210 210 210 250]
		text = ($filtertypes.search.values [($leaderboardsearchvalue)])
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
		]
	}
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		id = <0xc158a174>
		font = text_a1
		scale = 0.5
		rgba = [210 210 210 250]
		text = "Time Period:"
		just = [left top]
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
			{pad_choose 0x7c1f9e1b params = {to = <0x567c197e> from = <vmenu_id>}}
		]
	}
	createscreenelement {
		type = vmenu
		id = <0x567c197e>
		parent = <0xc158a174>
		pos = (275.0, 0.0)
		just = [left top]
		event_handlers = [
			{pad_up net_custom_up_down params = {type = time text = <time_text> global = 0x3ecb95c2 direction = up}}
			{pad_down net_custom_up_down params = {type = time text = <time_text> global = 0x3ecb95c2 direction = down}}
			{pad_back net_commit_or_reset_params params = {to = <vmenu_id> from = <0x567c197e>}}
			{pad_choose net_commit_or_reset_params params = {to = <vmenu_id> from = <0x567c197e>}}
		]
	}
	createscreenelement {
		type = textelement
		id = <time_text>
		parent = <0x567c197e>
		font = text_a1
		scale = 1.0
		rgba = [210 210 210 250]
		text = ($filtertypes.time.values [($0x3ecb95c2)])
		just = [left top]
		z_priority = 100.0
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
		]
	}
	createscreenelement {
		type = textelement
		parent = <vmenu_id>
		font = text_a1
		scale = 0.5
		rgba = [210 210 210 250]
		text = "Done"
		just = [left top]
		event_handlers = [
			{focus menu_focus}
			{unfocus menu_unfocus}
			{pad_choose submit_filter_query}
		]
	}
	launchevent type = focus target = <vmenu_id>
endscript

script destroy_leaderboard_filter_dialog 
	launchevent \{type = unfocus
		target = online_leaderboard_filter_vmenu}
	destroy_menu \{menu_id = online_leaderboard_filter_menu}
	destroy_menu_backdrop
	launchevent \{type = focus
		target = 0xc7d30aef}
endscript

script submit_filter_query 
	ui_flow_manager_respond_to_action \{action = submit_query}
endscript

script new_leaderboard_menu 
	printf "--- new_leaderboard_menu"
	createscreenelement {type = containerelement parent = root_window id = leaderboard_container just = [left top] pos = (0.0, 0.0)}
	createscreenelement {type = textelement parent = leaderboard_container id = current_leaderboard_title font = text_a1 scale = 0.75 rgba = [210 210 210 250] text = <title> just = [left top] pos = (550.0, 105.0)}
	createscreenelement {type = vscrollingmenu parent = leaderboard_container id = 0x12660461 just = [left top] dims = (400.0, 480.0) pos = (275.0, 150.0)}
	createscreenelement {
		type = vscrollingmenu
		parent = leaderboard_container
		id = gamertag_scrolling_menu
		just = [left top]
		dims = (400.0, 480.0)
		pos = (550.0, 150.0)
	}
	createscreenelement {type = vscrollingmenu parent = leaderboard_container id = 0xd896ee2d just = [left top] dims = (400.0, 480.0) pos = (950.0, 150.0)}
	createscreenelement {type = vmenu parent = 0x12660461 id = 0x3e0ab79f just = [left top]}
	createscreenelement {
		type = vmenu
		parent = gamertag_scrolling_menu
		id = gamertag_vmenu
		just = [left top]
		event_handlers = [
			{pad_up leaderboard_scroll params = {dir = up}}
			{pad_down leaderboard_scroll params = {dir = down}}
		]
		dont_allow_wrap
	}
	createscreenelement {type = vmenu parent = 0xd896ee2d id = 0xaa42348a just = [left top]}
	array_count = 0
	begin
	formattext checksumname = leaderboard_rank 'leaderboard_entry_%i_rank' i = <array_count>
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = <array_count>
	formattext checksumname = leaderboard_score 'leaderboard_entry_%i_score' i = <array_count>
	createscreenelement {
		type = textelement
		parent = 0x3e0ab79f
		id = <leaderboard_rank>
		font = text_a1
		scale = 0.75
		rgba = [210 210 210 250]
		text = "-"
		just = [left top]
		block_events
		z = 10
		event_handlers = [
			{focus leaderboard_custom_focus}
			{unfocus leaderboard_custom_unfocus}
		]
	}
	createscreenelement {
		type = textelement
		parent = gamertag_vmenu
		id = <leaderboard_entry>
		font = text_a1
		scale = 0.75
		rgba = [210 210 210 250]
		text = "-"
		just = [left top]
		z = 10
		event_handlers = [
			{focus leaderboard_custom_focus}
			{unfocus leaderboard_custom_unfocus}
			{pad_back leaderboard_back_action}
			{pad_square 0x798940f8}
			{pad_l1 0x9f122475}
			{pad_choose show_gamercard}
		]
	}
	createscreenelement {
		type = textelement
		parent = 0xaa42348a
		id = <leaderboard_score>
		font = text_a1
		scale = 0.75
		rgba = [210 210 210 250]
		text = "-"
		just = [left top]
		block_events
		z = 10
		event_handlers = [
			{focus leaderboard_custom_focus}
			{unfocus leaderboard_custom_unfocus}
		]
	}
	<array_count> = (<array_count> + 1)
	repeat 10
	launchevent type = unfocus target = 0xc7d30aef
	launchevent type = focus target = leaderboard_container
endscript

script leaderboard_custom_focus 
	menu_focus <...>
endscript

script leaderboard_custom_unfocus 
	menu_unfocus <...>
endscript

script leaderboard_scroll dir = down
	if (<dir> = down)
		if ($lb_selection_index = 9)
			change lb_selection_index = 0
			change lb_offset = ($lb_offset + 10)
			if ((($current_leaderboard_group) = song) || (($current_leaderboard_group) = 0x9333b8e1))
				get_leaderboard_headers song = true
			else
				get_leaderboard_headers song = false
			endif
			launchevent type = unfocus target = gamertag_vmenu
			request_leaderboard <...>
		else
			change lb_selection_index = ($lb_selection_index + 1)
		endif
	else
		if ($lb_selection_index = 0)
			if ($lb_offset <= 1)
				printf "at very top... returning"
				return
			elseif ($lb_offset < 11)
				change $lb_offset = 1
			else
				change lb_offset = ($lb_offset - 10)
			endif
			change lb_selection_index = 9
			if ((($current_leaderboard_group) = song) || (($current_leaderboard_group) = 0x9333b8e1))
				get_leaderboard_headers song = true
			else
				get_leaderboard_headers song = false
			endif
			launchevent type = unfocus target = gamertag_vmenu
			request_leaderboard <...>
		else
			change lb_selection_index = ($lb_selection_index - 1)
		endif
	endif
	generic_menu_up_or_down_sound <dir>
endscript

script request_leaderboard 
	netsessionfunc {
		obj = stats
		func = get_stats
		params = {
			leaderboard_id = ($current_leaderboard_id)
			callback = add_leaderboard_rows_to_menu
			offset = ($lb_offset)
			columns = <columns>
			num_rows = 10
		}
	}
endscript

script show_gamercard 
	formattext checksumname = leaderboard_entry 'leaderboard_entry_%i_gamertag' i = ($lb_selection_index)
	<leaderboard_entry> :gettags
	netsessionfunc func = showgamercard params = {player_xuid = <player_xuid>}
endscript
