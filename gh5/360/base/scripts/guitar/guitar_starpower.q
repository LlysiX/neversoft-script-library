whammywibbles = [
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
]

script star_power_reset 
	setplayerinfo <Player> star_power_amount = 0.0
	setplayerinfo <Player> star_power_sequence = 0
	setplayerinfo <Player> star_power_used = 0
endscript
star_power_ready_on_p1 = 0
star_power_ready_on_p2 = 0

script show_star_power_ready 
	if isps3
		printf \{channel = sfx
			qs(0x2c9e29c0)}
		if NOT ($current_song = jamsession)
			if isSinglePlayerGame
				SoundEvent \{event = star_power_available_gh4}
			else
				SpawnScriptNow star_power_ready_sfx_multiplayer params = {Player = <Player>}
			endif
		endif
	else
		printf \{channel = sfx
			qs(0x2d83f5f9)}
		if isSinglePlayerGame
			printf \{channel = sfx
				qs(0xb4d93ca0)}
			SoundEvent \{event = star_power_available_gh4}
		else
			SpawnScriptNow star_power_ready_sfx_multiplayer params = {Player = <Player>}
		endif
	endif
	if ($Cheat_PerformanceMode = 1)
		return
	endif
	gamemode_gettype
	if (<Type> = practice)
		return
	endif
	if NOT ScreenElementExists \{id = hud_root}
		ScriptAssert \{'Hud Root not found'}
	endif
	getplayerinfo Player = <Player> star_power_used
	if (<star_power_used> = 0)
		getplayerinfo <Player> part
		if (<part> != vocals)
			SpawnScriptNow lil_sp_squirt params = {Player = <Player>}
		else
			SpawnScriptNow lil_sp_squirt_vocals params = {Player = <Player>}
		endif
		return
		if playerinfoequals Player = <Player> part = vocals
			vocals_message_delayed {Player = <Player> text = qs(0x8ba36464) rgba = [128 240 240 255]}
		else
		endif
	endif
	return
endscript
showing_raise_axe = 0

script show_coop_raise_axe_for_starpower 
endscript

script Do_StarPower_StageFX 
	SpawnScriptLater Do_StarPower_TeslaFX id = <scriptID> params = {<...>}
endscript

script Do_StarPower_TeslaFX 
	getplayerinfo <Player> band_member out = obj_id
	if NOT CompositeObjectExists Name = <obj_id>
		return
	endif
	if <obj_id> :ishidden
		return
	endif
	GetPakManCurrent \{map = zones}
	ExtendCrc <pak> '_GFX_TRG_TeslaNode_' out = zonePrefix
	getplayerinfo <Player> part
	switch (<part>)
		case bass
		case guitar
		bone = bone_guitar_body
		case drum
		bone = Bone_IK_Hand_Guitar_R
		case vocals
		bone = bone_mic_microphone
	endswitch
	formatText checksumName = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <Player>
	CreateParticleSystem Name = <teslaparticlefxid> groupID = <teslaparticlefxid> objID = <obj_id> bone = <bone> params_Script = $gp_starpower_teslalightning01
	i = 1
	begin
	switch (<part>)
		case bass
		case guitar
		if (RandomInteger (0.0, 1.0) = 0)
			bone = BONE_GUITAR_FRET_POS
		else
			bone = bone_guitar_body
		endif
		case drum
		b = RandomInteger (0.0, 4.0)
		switch <b>
			case 0
			bone = bone_guitar_string_1
			case 1
			bone = Bone_IK_Hand_Guitar_L
			case 2
			bone = Bone_IK_Hand_Guitar_R
			case 3
			bone = BONE_GUITAR_FRET_POS
			case 4
			bone = bone_guitar_body
		endswitch
		case vocals
		b = RandomInteger (0.0, 2.0)
		switch <b>
			case 0
			bone = bone_mic_stand
			case 1
			bone = bone_mic_adjust_height
			case 2
			bone = bone_mic_microphone
		endswitch
	endswitch
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	SpawnScriptLater Create_StarPower_TeslaFX id = <scriptID> params = {
		<...>
		zonePrefix = <zonePrefix>
		teslaFXID = <teslaFXID>
		bone = <bone>
		nodeNum = RandomInteger (1.0, 10.0)
	}
	i = (<i> + 1)
	repeat RandomInteger (2.0, 4.0)
	begin
	Wait RandomFloat (0.1, 1.0) Seconds
	i = RandomInteger (1.0, 4.0)
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	KillSpawnedScript id = <scriptID>
	DeleteTeslaEffectObject Name = <teslaFXID>
	if (<i> = 1 || <i> = 2 || RandomInteger (0.0, 1.0) = 1)
		switch (<part>)
			case bass
			case guitar
			if (RandomInteger (0.0, 1.0) = 0)
				bone = BONE_GUITAR_FRET_POS
			else
				bone = bone_guitar_body
			endif
			case drum
			b = RandomInteger (0.0, 4.0)
			switch <b>
				case 0
				bone = bone_guitar_string_1
				case 1
				bone = Bone_IK_Hand_Guitar_L
				case 2
				bone = Bone_IK_Hand_Guitar_R
				case 3
				bone = BONE_GUITAR_FRET_POS
				case 4
				bone = bone_guitar_body
			endswitch
			case vocals
			b = RandomInteger (0.0, 2.0)
			switch <b>
				case 0
				bone = bone_mic_stand
				case 1
				bone = bone_mic_adjust_height
				case 2
				bone = bone_mic_microphone
			endswitch
		endswitch
		SpawnScriptLater Create_StarPower_TeslaFX id = <scriptID> params = {
			<...>
			zonePrefix = <zonePrefix>
			teslaFXID = <teslaFXID>
			bone = <bone>
			nodeNum = RandomInteger (1.0, 10.0)
		}
	endif
	repeat
endscript

script Create_StarPower_TeslaFX 
	if (($use_star_power_prototype) = 1)
		return
	endif
	create_starpower_teslafx_cfunc_setup
	begin
	if create_starpower_teslafx_cfunc
		break
	endif
	Wait \{1
		gameframe}
	repeat
	create_starpower_teslafx_cfunc_cleanup
endscript

script Kill_StarPower_StageFX \{ifEmpty = 1}
	formatText checksumName = scriptID 'p%p_StarPower_StageFX' p = <Player>
	KillSpawnedScript id = <scriptID>
	formatText checksumName = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <Player>
	DestroyParticlesByGroupID groupID = <teslaparticlefxid>
	if (<ifEmpty> = 0)
		DestroyParticlesByGroupID \{groupID = starPowerFX}
	endif
	i = 1
	begin
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	KillSpawnedScript id = <scriptID>
	DeleteTeslaEffectObject Name = <teslaFXID>
	i = (<i> + 1)
	repeat 4
endscript
using_starpower_camera = FALSE

script Do_StarPower_Camera 
	return
	if ($using_starpower_camera = true || $using_walk_camera = true)
		return
	endif
	Change \{using_starpower_camera = true}
	Wait \{1
		gameframe}
	Change \{CameraCuts_AllowNoteScripts = FALSE}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras_starpower'
		changetime = 2500
		length = 7000}
	Wait \{7
		Seconds}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = FALSE}
endscript

script Kill_StarPower_Camera \{changecamera = 1}
	if ($using_starpower_camera = FALSE)
		return
	endif
	KillSpawnedScript \{Name = Do_StarPower_Camera}
	if (<changecamera> = 1)
		CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	endif
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = FALSE}
endscript

script set_star_request_pending 
	printf \{qs(0x5e79940c)}
	Wait \{2.5
		Seconds}
	printf \{qs(0xd0d1a1fe)}
endscript
use_star_power_prototype = 1

script create_sp_proto_hud_elements 
	if ScreenElementExists \{id = id_sp_hud_proto}
		destroy_sp_proto_hud_elements
	endif
	Player = 1
	base_pos = (512.0, 360.0)
	vocals_pos_high = (950.0, 181.0)
	vocals_pos_low = (950.0, 400.0)
	highway_pos_1hw = [(512.0, 320.0)]
	highway_pos_2hw = [(305.0, 365.0) (770.0, 365.0)]
	highway_pos_3hw = [(140.0, 385.0) (550.0, 385.0) (950.0, 385.0)]
	get_num_non_vocals_players_onscreen
	CreateScreenElement \{Type = ContainerElement
		parent = root_window
		id = id_sp_hud_proto
		Pos = (0.0, 0.0)
		z_priority = 800}
	getnumplayersingame
	if (<num_players> > 0)
		getfirstplayer
		begin
		getplayerinfo <Player> part
		num_highways = <num_non_vocals_players>
		this_pos = (0.0, 0.0)
		if (<part> = vocals)
			if (<num_players> = 1)
				this_pos = <vocals_pos_low>
			else
				this_pos = <vocals_pos_high>
			endif
		else
			getplayerinfo <Player> highway_position
			if (<num_highways> = 1)
				this_pos = (<highway_pos_1hw> [0])
			elseif (<num_highways> = 2)
				if (<highway_position> = left)
					this_pos = (<highway_pos_2hw> [0])
				else
					this_pos = (<highway_pos_2hw> [1])
				endif
			elseif (<num_highways> = 3)
				if (<highway_position> = left)
					this_pos = (<highway_pos_3hw> [0])
				elseif (<highway_position> = center)
					this_pos = (<highway_pos_3hw> [1])
				else
					this_pos = (<highway_pos_3hw> [2])
				endif
			endif
		endif
		formatText checksumName = player_sp_text_id 'p%p_sp_text_id' p = <Player>
		formatText checksumName = player_sp_meter_id 'p%p_sp_meter_id' p = <Player>
		CreateScreenElement {
			Type = TextElement
			parent = id_sp_hud_proto
			id = <player_sp_text_id>
			font = debug
			Scale = 0.75
			rgba = [128 128 128 250]
			text = qs(0x6a9aaf9f)
			just = [right top]
			z_priority = 1
			Pos = <this_pos>
		}
		CreateScreenElement {
			Type = SpriteElement
			parent = id_sp_hud_proto
			id = <player_sp_meter_id>
			texture = white
			dims = (65.0, 33.0)
			rgba = [15 15 128 255]
			just = [left top]
			z_priority = 0
			Pos = (<this_pos> + (-60.0, 0.0))
		}
		GetScreenElementProps id = <player_sp_meter_id>
		printstruct <...> channel = zdebug
		getnextplayer Player = <Player>
		repeat <num_players>
	endif
	Wait \{1
		gameframe}
	SpawnScriptLater \{update_sp_hud_elements}
endscript

script destroy_sp_proto_hud_elements 
	Player = 1
	DestroyScreenElement \{id = id_sp_hud_proto}
	KillSpawnedScript \{Name = update_sp_hud_elements}
endscript

script update_sp_hud_elements 
	grey = [128 128 128 255]
	white = [255 255 255 255]
	blue = [69 160 229 255]
	begin
	Color = <grey>
	getnumplayersingame
	if (<num_players> > 0)
		getfirstplayer
		begin
		formatText checksumName = player_sp_text_id 'p%p_sp_text_id' p = <Player>
		formatText checksumName = player_sp_meter_id 'p%p_sp_meter_id' p = <Player>
		getplayerinfo <Player> star_power_amount
		Scale = (((1.0, 0.0) * (<star_power_amount> / 100.0)) + (0.0, 1.0))
		Color = <grey>
		if (<star_power_amount> < 50)
			Color = <grey>
		elseif (<star_power_amount> < 100)
			Color = <white>
		else
			Color = <blue>
		endif
		if (<star_power_amount> < 10)
			formatText TextName = sp_text qs(0x8d1785e9) d = <star_power_amount> DecimalPlaces = 1
		elseif (<star_power_amount> < 100)
			formatText TextName = sp_text qs(0xdc3aa85e) d = <star_power_amount> DecimalPlaces = 1
		else
			formatText TextName = sp_text qs(0x48c6d14c) d = <star_power_amount> DecimalPlaces = 1
		endif
		<player_sp_text_id> :se_setprops text = <sp_text> rgba = <Color>
		getnextplayer Player = <Player>
		repeat <num_players>
	endif
	Wait \{1
		gameframe}
	repeat
endscript

script create_highway_star_power_effect_old 
	pos_index = (<Player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	getnumplayersingame
	if (<num_players> = 1)
		Pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 0.9) * <height>)
	else
		Pos = ((0.0, -1.4) * <height>)
		pos2 = ((0.0, 1.3) * <height>)
	endif
	formatText checksumName = cont 'sidebar_container_leftp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namel2 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namel2>
		parent = <cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		Pos = <Pos>
		Scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = cont 'sidebar_container_rightp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namer2 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namer2>
		parent = <cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		Pos = <Pos>
		Scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = container_id 'fretbar_containerp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	CreateScreenElement {
		Type = SpriteElement
		id = <namec>
		parent = <container_id>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 128]
		Pos = <pos2> (0.0, 720.0)
		rot_angle = 0
		Scale = (0.0, 3.0)
		just = [center top]
		z_priority = 1.1
	}
	formatText checksumName = fx3 'sidebar_Center_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx3>
	Create2DParticleSystem {
		id = <fx3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Star02_sys_Particle_Star02
		parent = <namec>
		start_color = [255 255 255 128]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (1.25, 1.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		Emit_Rate = 0.1
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.551
	}
	<namel2> :se_setprops Pos = <Pos> Scale = (1.0, 4.0) time = 0.5
	<namer2> :se_setprops Pos = <Pos> Scale = (-1.0, 4.0) time = 0.5
	<namec> :se_setprops Pos = <pos2> Scale = (5.0, 3.0) time = 0.5
	Wait \{0.5
		Seconds}
	if ScreenElementExists id = <namel>
		<namel> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namer>
		<namer> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	if ScreenElementExists id = <namec2>
		<namec2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	Wait \{0.2
		Second}
	Destroy2DParticleSystem kill_when_empty id = <fx3>
	Wait \{0.04
		Seconds}
	SpawnScriptNow pulse_sp_color params = {Player = <Player>}
endscript

script pulse_sp_color_old 
	begin
	formatText checksumName = namer2 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namer2 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 128] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	repeat
endscript

script kill_highway_star_power_effect_old 
	formatText checksumName = namer2 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namel 'sidebar_Left_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel>
	formatText checksumName = namer 'sidebar_Right_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer>
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	DestroyScreenElement id = <namec2>
	DestroyScreenElement id = <namel2>
	DestroyScreenElement id = <namer2>
endscript

script create_vocals_star_power_effect 
	RequireParams \{[
			Player
		]}
	getplayerinfo <Player> part
	if (<part> != vocals)
		return
	endif
	vocalshighway_getid Player = <Player>
	<vocals_highway_id> :desc_resolvealias Name = alias_rush_container_bottom param = bot_rush_cont
	<vocals_highway_id> :desc_resolvealias Name = alias_rush_container_top param = top_rush_cont
	<vocals_highway_id> :desc_resolvealias Name = alias_visible_highway param = visible_highway
	<visible_highway> :se_setprops alpha = 1 time = 0.2
	formatText checksumName = namevb1 'Vocals_Bottom_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb1>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevb1>
		parent = <bot_rush_cont>
		material = sp_glow_rush01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		Scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	formatText checksumName = namevb2 'Vocals_Bottom_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevb2>
		parent = <bot_rush_cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		Scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	formatText checksumName = namevt1 'Vocals_Top_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt1>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevt1>
		parent = <top_rush_cont>
		material = sp_glow_rush01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		Scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevt2>
		parent = <top_rush_cont>
		material = mat_sidebar_glow_01
		rgba = [0 255 255 255]
		Pos = (0.0, 18.0)
		Scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 3.2
	}
	formatText checksumName = fxt1 'Vocals_Top_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxt1>
	Create2DParticleSystem {
		id = <fxt1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namevt1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	formatText checksumName = fxb1 'Vocals_Bottom_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxb1>
	Create2DParticleSystem {
		id = <fxb1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namevb1>
		start_color = [255 255 255 255]
		end_color = [128 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	<namevb1> :se_setprops Pos = {(1500.0, 0.0) relative} time = 0.5
	<namevb2> :se_setprops Pos = {(200.0, 0.0) relative} Scale = (1.0, 9.0) time = 0.5
	<namevt1> :se_setprops Pos = {(1500.0, 0.0) relative} time = 0.5
	<namevt2> :se_setprops Pos = {(200.0, 0.0) relative} Scale = (1.0, 9.0) time = 0.5
	Wait \{0.5
		Seconds}
	Destroy2DParticleSystem kill_when_empty id = <fxt1>
	Destroy2DParticleSystem kill_when_empty id = <fxb1>
endscript

script kill_vocals_star_power_effect 
	vocals_get_highway_view Player = <Player>
	if (<highway_view> = karaoke)
		vocalshighway_getid Player = <Player>
		if ScreenElementExists id = <vocals_highway_id>
			<vocals_highway_id> :desc_resolvealias Name = alias_visible_highway param = visible_highway
			<visible_highway> :se_setprops alpha = 0 time = 0.2
		endif
	endif
	formatText checksumName = namevt1 'Vocals_Top_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt1>
	formatText checksumName = namevb1 'Vocals_Bottom_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb1>
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namevt2>
		<namevt2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	formatText checksumName = namevb2 'Vocals_bottom_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namevb2>
		<namevb2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namevb2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb2>
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt2>
endscript

script lil_sp_squirt 
	RequireParams \{[
			Player
		]}
	formatText checksumName = right_sp_id 'sidebar_right_sp_meterp%p' p = <Player>
	<right_sp_id> :desc_resolvealias Name = alias_needle_container param = sp_squirt_cont
	formatText checksumName = fx1 'sidebar_SPFX_Squirtp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx1>
	Create2DParticleSystem {
		id = <fx1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <sp_squirt_cont>
		start_color = [255 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (1.25, 1.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 3
		emit_radius = 3
		Emit_Rate = 0.01
		emit_dir = 66.0
		emit_spread = 180.0
		velocity = 3.3
		friction = (0.0, 12.0)
		time = 0.551
	}
	Wait \{0.25
		Seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx1>
endscript

script lil_sp_squirt_vocals 
	RequireParams \{[
			Player
		]}
	getplayerinfo <Player> combo_meter_id
	<combo_meter_id> :desc_resolvealias Name = alias_vocals_star_power_meter param = id
	<id> :desc_resolvealias Name = alias_vspm_needle_container param = sp_squirt_vocals_cont
	formatText checksumName = fx1 'Vocals_SPFX_Squirtp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx1>
	Create2DParticleSystem {
		id = <fx1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <sp_squirt_vocals_cont>
		start_color = [128 255 255 255]
		end_color = [0 255 255 0]
		start_scale = (3.25, 3.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 1
		emit_radius = 1
		Emit_Rate = 0.01
		emit_dir = 90.0
		emit_spread = 0.0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.551
	}
	Wait \{0.15
		Seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx1>
endscript

script create_highway_star_power_effect 
	pos_index = (<Player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	Pos = ((0.0, -1.4) * <height>)
	pos2 = ((0.0, 0.9) * <height>)
	getnumplayersingame
	if (<num_players> = 1)
		endpos_l = {(140.0, -80.0) relative}
		endpos_r = {(-140.0, -80.0) relative}
		rot_l = -50
		rot_r = 50
	else
		endpos_l = {(120.0, -20.0) relative}
		endpos_r = {(-120.0, -20.0) relative}
		rot_l = -33
		rot_r = 33
	endif
	formatText checksumName = cont 'sidebar_container_leftp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namel 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel>
	CreateScreenElement {
		Type = SpriteElement
		id = <namel>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 128]
		Pos = <Pos>
		Scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namel2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [255 255 255 255]
		Pos = <Pos>
		Scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = namels1 'sidebar_Left_star01p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels1>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels1>
		Scale = (-0.25, 0.25)
		Pos = (20.0, 80.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = namels2 'sidebar_Left_star02p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels2>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels2>
		Scale = (-0.19, 0.15)
		Pos = (20.0, 46.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = namels3 'sidebar_Left_star03p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels3>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels3>
		Scale = (-0.14, 0.1)
		Pos = (20.0, 22.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = cont 'sidebar_container_rightp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namer 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer>
	CreateScreenElement {
		Type = SpriteElement
		id = <namer>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 128]
		Pos = <Pos>
		Scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namer2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = [255 255 255 255]
		Pos = <Pos>
		Scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = namers1 'sidebar_Right_star01p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers1>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers1>
		Scale = (-0.3, 0.28)
		Pos = (20.0, 100.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = namers2 'sidebar_Right_star02p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers2>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers2>
		Scale = (-0.2, 0.18)
		Pos = (20.0, 62.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = namers3 'sidebar_Right_star03p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers3>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers3>
		Scale = (-0.16, 0.120000005)
		Pos = (20.0, 33.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = namers4 'sidebar_Right_star04p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers4>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers4>
		Scale = (-0.1, 0.06)
		Pos = (20.0, 10.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = [0 255 255 255]
		preserve_local_orientation = true
	}
	formatText checksumName = container_id 'fretbar_containerp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	CreateScreenElement {
		Type = SpriteElement
		id = <namec>
		parent = <container_id>
		material = mat_sidebar_glow_02
		rgba = [0 255 255 0]
		Pos = <pos2>
		rot_angle = 0
		Scale = (4.0, 2.5)
		just = [center top]
		z_priority = 1.1
	}
	formatText checksumName = fxsr1 'sidebar_star01Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr1>
	Create2DParticleSystem {
		id = <fxsr1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.5)
		end_scale = (0.8, 0.5)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr2 'sidebar_star02Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr2>
	Create2DParticleSystem {
		id = <fxsr2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.6)
		end_scale = (0.8, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr3 'sidebar_star03Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr3>
	Create2DParticleSystem {
		id = <fxsr3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.3)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr4 'sidebar_star04Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr4>
	Create2DParticleSystem {
		id = <fxsr4>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers4>
		start_color = [0 255 255 120]
		end_color = [0 0 255 0]
		start_scale = (0.3, 0.2)
		end_scale = (0.3, 0.2)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl1 'sidebar_star01Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl1>
	Create2DParticleSystem {
		id = <fxsl1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels1>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (1.0, 0.6)
		end_scale = (1.0, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl2 'sidebar_star02Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl2>
	Create2DParticleSystem {
		id = <fxsl2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels2>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.8, 0.4)
		end_scale = (0.8, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl3 'sidebar_star03Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl3>
	Create2DParticleSystem {
		id = <fxsl3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels3>
		start_color = [0 255 255 128]
		end_color = [0 0 255 0]
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	<namel> :se_setprops Pos = <Pos> Scale = (4.0, 4.0) time = 0.25
	<namel2> :se_setprops Pos = <Pos> Scale = (1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namer> :se_setprops Pos = <Pos> Scale = (-4.0, 4.0) time = 0.25
	<namer2> :se_setprops Pos = <Pos> Scale = (-1.0, 4.0) rgba = [0 255 255 128] time = 0.25
	<namec> :se_setprops Pos = <pos2> Scale = (8.0, 2.4) time = 0.25
	Wait \{0.25
		Seconds}
	if ScreenElementExists id = <namel>
		<namel> :se_setprops alpha = 0 time = 0.5 Pos = <endpos_l> rot_angle = <rot_l>
	endif
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namer>
		<namer> :se_setprops rgba alpha = 0 time = 0.5 Pos = <endpos_r> rot_angle = <rot_r>
	endif
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 0] time = 0.5
	endif
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 128] time = 0.5
	endif
	Wait \{0.25
		Seconds}
	formatText checksumName = fx3 'sidebar_Center3_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx3>
	Create2DParticleSystem {
		id = <fx3>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Star02_sys_Particle_Star02
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (0.25, 0.25)
		end_scale = (0.5, 0.5)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		Emit_Rate = 0.05
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.0
	}
	formatText checksumName = fx2 'sidebar_Center2_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx2>
	Create2DParticleSystem {
		id = <fx2>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namec>
		start_color = [255 255 255 64]
		end_color = [0 255 255 0]
		start_scale = (2.25, 2.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 0
		emit_radius = 777
		Emit_Rate = 0.05
		emit_dir = 0.0
		emit_spread = 33.0
		velocity = 1.1
		friction = (0.0, 12.0)
		time = 1.0
	}
	Wait \{0.25
		Seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx2>
	Destroy2DParticleSystem kill_when_empty id = <fx3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr1>
	Destroy2DParticleSystem kill_when_empty id = <fxsr2>
	Destroy2DParticleSystem kill_when_empty id = <fxsr3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr4>
	Destroy2DParticleSystem kill_when_empty id = <fxsl1>
	Destroy2DParticleSystem kill_when_empty id = <fxsl2>
	Destroy2DParticleSystem kill_when_empty id = <fxsl3>
	Wait \{0.25
		Seconds}
	DestroyScreenElement id = <namel>
	DestroyScreenElement id = <namer>
	if ScreenElementExists id = <namel2>
		<namel2> :Obj_SpawnScriptNow pulse_sp_color params = {Player = <Player>}
	endif
endscript

script pulse_sp_color 
	begin
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 64] time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 40] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = [0 255 255 255] time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = [0 255 255 72] time = 0.5
	endif
	Wait \{0.5
		Seconds}
	repeat
endscript

script kill_highway_star_power_effect 
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops alpha = 0 time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops alpha = 0 time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops alpha = 0 time = 0.5
	endif
	Wait \{0.5
		Seconds}
	DestroyScreenElement id = <namec>
	DestroyScreenElement id = <namel2>
	DestroyScreenElement id = <namer2>
endscript
