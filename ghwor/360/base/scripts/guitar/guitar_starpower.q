whammywibbles = [
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
	[
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
		1.0
	]
]
default_sp_fx_color = {
	white_255a = [
		255
		255
		255
		255
	]
	white_128a = [
		255
		255
		255
		128
	]
	white_64a = [
		255
		255
		255
		64
	]
	white_32a = [
		255
		255
		255
		32
	]
	white_0a = [
		255
		255
		255
		0
	]
	color1_255a = [
		0
		255
		255
		255
	]
	color1_128a = [
		0
		200
		255
		128
	]
	color1_64a = [
		0
		255
		255
		64
	]
	color1_32a = [
		0
		200
		255
		32
	]
	color1_0a = [
		0
		255
		255
		0
	]
	color2_255a = [
		0
		0
		255
		255
	]
	color2_128a = [
		0
		0
		255
		128
	]
	color2_64a = [
		0
		0
		255
		64
	]
	color2_32a = [
		0
		0
		255
		32
	]
	color2_0a = [
		0
		0
		255
		0
	]
}
pandora_sp_fx_color = {
	white_255a = [
		255
		255
		255
		255
	]
	white_128a = [
		255
		255
		255
		128
	]
	white_64a = [
		255
		255
		255
		64
	]
	white_32a = [
		255
		255
		255
		32
	]
	white_0a = [
		255
		255
		255
		0
	]
	color1_255a = [
		255
		128
		128
		255
	]
	color1_128a = [
		255
		128
		123
		128
	]
	color1_64a = [
		255
		128
		123
		64
	]
	color1_32a = [
		255
		128
		123
		32
	]
	color1_0a = [
		255
		128
		123
		0
	]
	color2_255a = [
		255
		0
		0
		255
	]
	color2_128a = [
		255
		0
		0
		128
	]
	color2_64a = [
		255
		0
		0
		64
	]
	color2_32a = [
		255
		0
		0
		32
	]
	color2_0a = [
		255
		0
		0
		0
	]
}

script star_power_reset 
	setplayerinfo <Player> star_power_amount = 0.0
	setplayerinfo <Player> star_power_sequence = 0
	setplayerinfo <Player> star_power_used = 0
endscript

script show_star_power_ready 
	if isps3
		if NOT ($current_song = jamsession)
			if isSinglePlayerGame
				if NOT ($game_mode = practice)
					SoundEvent \{event = audio_star_power_available}
				endif
			else
				SpawnScriptNow audio_gameplay_star_power_ready_logic params = {Player = <Player>}
			endif
		endif
	else
		if isSinglePlayerGame
			if NOT ($game_mode = practice)
				SoundEvent \{event = audio_star_power_available}
			endif
		else
			SpawnScriptNow audio_gameplay_star_power_ready_logic params = {Player = <Player>}
		endif
	endif
	gamemode_gettype
	if ($Cheat_PerformanceMode = 1 || <Type> = practice)
		return
	endif
	if NOT ScreenElementExists \{id = hud_root}
		ScriptAssert \{'Hud Root not found'}
	endif
	getplayerinfo Player = <Player> star_power_used
	if (<star_power_used> = 0)
		getplayerinfo <Player> part
		if (<part> != vocals)
			SpawnScriptNow lil_sp_squirt params = {Player = <Player>}
		else
			SpawnScriptNow lil_sp_squirt_vocals params = {Player = <Player>}
		endif
	endif
endscript
showing_raise_axe = 0

script show_coop_raise_axe_for_starpower 
endscript

script Do_StarPower_StageFX 
	SpawnScriptLater Do_StarPower_TeslaFX id = <scriptID> params = {<...>}
endscript

script Do_StarPower_TeslaFX 
	getplayerinfo <Player> band_member out = obj_id
	if NOT CompositeObjectExists Name = <obj_id>
		return
	endif
	if <obj_id> :ishidden
		return
	endif
	GetPakManCurrent \{map = zones}
	ExtendCrc <pak> '_GFX_TRG_TeslaNode_' out = zonePrefix
	getplayerinfo <Player> part
	switch (<part>)
		case bass
		case guitar
		bone = bone_guitar_body
		case drum
		bone = Bone_IK_Hand_Guitar_R
		case vocals
		bone = bone_mic_microphone
	endswitch
	formatText checksumName = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <Player>
	i = 1
	begin
	switch (<part>)
		case bass
		case guitar
		if (RandomInteger (0.0, 1.0) = 0)
			bone = BONE_GUITAR_FRET_POS
		else
			bone = bone_guitar_body
		endif
		case drum
		b = RandomInteger (0.0, 4.0)
		switch <b>
			case 0
			bone = bone_guitar_string_1
			case 1
			bone = Bone_IK_Hand_Guitar_L
			case 2
			bone = Bone_IK_Hand_Guitar_R
			case 3
			bone = BONE_GUITAR_FRET_POS
			case 4
			bone = bone_guitar_body
		endswitch
		case vocals
		b = RandomInteger (0.0, 2.0)
		switch <b>
			case 0
			bone = bone_mic_stand
			case 1
			bone = bone_mic_adjust_height
			case 2
			bone = bone_mic_microphone
		endswitch
	endswitch
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	SpawnScriptLater Create_StarPower_TeslaFX id = <scriptID> params = {
		<...>
		zonePrefix = <zonePrefix>
		teslaFXID = <teslaFXID>
		bone = <bone>
		nodeNum = RandomInteger (1.0, 10.0)
	}
	i = (<i> + 1)
	repeat RandomInteger (2.0, 4.0)
	begin
	Wait RandomFloat (0.1, 1.0) Seconds
	i = RandomInteger (1.0, 4.0)
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	KillSpawnedScript id = <scriptID>
	DeleteTeslaEffectObject Name = <teslaFXID>
	if (<i> = 1 || <i> = 2 || RandomInteger (0.0, 1.0) = 1)
		switch (<part>)
			case bass
			case guitar
			if (RandomInteger (0.0, 1.0) = 0)
				bone = BONE_GUITAR_FRET_POS
			else
				bone = bone_guitar_body
			endif
			case drum
			b = RandomInteger (0.0, 4.0)
			switch <b>
				case 0
				bone = bone_guitar_string_1
				case 1
				bone = Bone_IK_Hand_Guitar_L
				case 2
				bone = Bone_IK_Hand_Guitar_R
				case 3
				bone = BONE_GUITAR_FRET_POS
				case 4
				bone = bone_guitar_body
			endswitch
			case vocals
			b = RandomInteger (0.0, 2.0)
			switch <b>
				case 0
				bone = bone_mic_stand
				case 1
				bone = bone_mic_adjust_height
				case 2
				bone = bone_mic_microphone
			endswitch
		endswitch
		SpawnScriptLater Create_StarPower_TeslaFX id = <scriptID> params = {
			<...>
			zonePrefix = <zonePrefix>
			teslaFXID = <teslaFXID>
			bone = <bone>
			nodeNum = RandomInteger (1.0, 10.0)
		}
	endif
	repeat
endscript

script Create_StarPower_TeslaFX 
	return
	create_starpower_teslafx_cfunc_setup
	begin
	if create_starpower_teslafx_cfunc
		break
	endif
	Wait \{1
		gameframe}
	repeat
	create_starpower_teslafx_cfunc_cleanup
endscript

script Kill_StarPower_StageFX \{ifEmpty = 1}
	formatText checksumName = scriptID 'p%p_StarPower_StageFX' p = <Player>
	KillSpawnedScript id = <scriptID>
	formatText checksumName = teslaparticlefxid 'p%p_StarPower_TeslaParticleFX' p = <Player>
	DestroyParticlesByGroupID groupID = <teslaparticlefxid>
	if (<ifEmpty> = 0)
		DestroyParticlesByGroupID \{groupID = starPowerFX}
	endif
	i = 1
	begin
	formatText checksumName = scriptID 'p%p_StarPower_TeslaFX%i' p = <Player> i = <i>
	formatText checksumName = teslaFXID 'p%p_StarPower_TeslaFXID%i' p = <Player> i = <i>
	KillSpawnedScript id = <scriptID>
	DeleteTeslaEffectObject Name = <teslaFXID>
	i = (<i> + 1)
	repeat 4
endscript
using_starpower_camera = FALSE

script Do_StarPower_Camera 
	return
	if ($using_starpower_camera = true || $using_walk_camera = true)
		return
	endif
	Change \{using_starpower_camera = true}
	Wait \{1
		gameframe}
	Change \{CameraCuts_AllowNoteScripts = FALSE}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras_starpower'
		changetime = 2500
		length = 7000}
	Wait \{7
		Seconds}
	CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = FALSE}
endscript

script Kill_StarPower_Camera \{changecamera = 1}
	if ($using_starpower_camera = FALSE)
		return
	endif
	KillSpawnedScript \{Name = Do_StarPower_Camera}
	if (<changecamera> = 1)
		CameraCuts_SetArrayPrefix \{prefix = 'cameras'}
	endif
	Change \{CameraCuts_AllowNoteScripts = true}
	Change \{using_starpower_camera = FALSE}
endscript

script set_star_request_pending 
	printf \{qs(0x5e79940c)}
	Wait \{2.5
		Seconds}
	printf \{qs(0xd0d1a1fe)}
endscript

script create_vocals_star_power_effect 
	RequireParams \{[
			Player
		]}
	getplayerinfo <Player> part
	if (<part> != vocals)
		return
	endif
	vocalshighway_getid Player = <Player>
	<vocals_highway_id> :desc_resolvealias Name = alias_rush_container_bottom param = bot_rush_cont
	<vocals_highway_id> :desc_resolvealias Name = alias_rush_container_top param = top_rush_cont
	<vocals_highway_id> :desc_resolvealias Name = alias_visible_highway param = visible_highway
	<visible_highway> :se_setprops alpha = 1 time = 0.2
	sp_params = default_sp_fx_color
	getplayerinfo <Player> star_power_multiplier
	if (<star_power_multiplier> >= 6)
		sp_params = pandora_sp_fx_color
	elseif (<star_power_multiplier> >= 3)
		sp_params = pandora_sp_fx_color
	else
	endif
	getplayerinfo <Player> vocals_highway_view
	if (<vocals_highway_view> = static)
		Pos = (0.0, 92.0)
	else
		Pos = (0.0, 55.0)
	endif
	if (<vocals_highway_view> = karaoke)
		Pos = (0.0, 18.0)
	endif
	white_255a = (($<sp_params>).white_255a)
	white_128a = (($<sp_params>).white_128a)
	white_64a = (($<sp_params>).white_64a)
	white_32a = (($<sp_params>).white_32a)
	white_0a = (($<sp_params>).white_0a)
	color1_255a = (($<sp_params>).color1_255a)
	color1_128a = (($<sp_params>).color1_128a)
	color1_64a = (($<sp_params>).color1_64a)
	color1_32a = (($<sp_params>).color1_32a)
	color1_0a = (($<sp_params>).color1_0a)
	color2_255a = (($<sp_params>).color2_255a)
	color2_128a = (($<sp_params>).color2_128a)
	color2_64a = (($<sp_params>).color2_64a)
	color2_32a = (($<sp_params>).color2_32a)
	color2_0a = (($<sp_params>).color2_0a)
	formatText checksumName = namevb1 'Vocals_Bottom_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb1>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevb1>
		parent = <bot_rush_cont>
		material = sp_glow_rush01
		rgba = <color1_255a>
		Pos = (0.0, 50.0)
		Scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 14
	}
	formatText checksumName = namevb2 'Vocals_Bottom_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevb2>
		parent = <bot_rush_cont>
		material = mat_sidebar_glow_01
		rgba = <color1_255a>
		Pos = <Pos>
		Scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = -0.01
	}
	formatText checksumName = namevt1 'Vocals_Top_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt1>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevt1>
		parent = <top_rush_cont>
		material = sp_glow_rush01
		rgba = <color1_255a>
		Pos = (0.0, 18.0)
		Scale = (2.5, 1.0)
		rot_angle = 5
		just = [center center]
		z_priority = 3
	}
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namevt2>
		parent = <top_rush_cont>
		material = mat_sidebar_glow_01
		rgba = <color1_255a>
		Pos = (0.0, 18.0)
		Scale = (1.5, 0.0)
		rot_angle = 90
		just = [center bottom]
		z_priority = 4
	}
	formatText checksumName = fxt1 'Vocals_Top_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxt1>
	Create2DParticleSystem {
		id = <fxt1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namevt1>
		start_color = <white_255a>
		end_color = <color1_0a>
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	formatText checksumName = fxb1 'Vocals_Bottom_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxb1>
	Create2DParticleSystem {
		id = <fxb1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namevb1>
		start_color = <white_255a>
		end_color = <color1_0a>
		start_scale = (1.25, 1.25)
		end_scale = (0.75, 0.75)
		start_angle_spread = 0.0
		min_rotation = 0
		max_rotation = 0
		emit_start_radius = 6
		emit_radius = 6
		Emit_Rate = 0.0050999997
		emit_dir = -90.0
		emit_spread = 360.0
		velocity = 1.1
		friction = (-12.0, 12.0)
		time = 0.25
	}
	<namevb1> :se_setprops Pos = {(1500.0, 0.0) relative} time = 0.5
	<namevb2> :se_setprops Pos = {(200.0, 0.0) relative} Scale = (1.0, 9.0) time = 0.5
	<namevt1> :se_setprops Pos = {(1500.0, 0.0) relative} time = 0.5
	<namevt2> :se_setprops Pos = {(200.0, 0.0) relative} Scale = (1.0, 9.0) time = 0.5
	Wait \{0.5
		Seconds}
	if (<star_power_multiplier> >= 6)
		SpawnScriptNow create_pandora_vocals_rp_fx_lvl2 params = {Player = <Player>}
	elseif (<star_power_multiplier> >= 3)
		SpawnScriptNow create_pandora_vocals_rp_fx_lvl1 params = {Player = <Player>}
	else
	endif
	Destroy2DParticleSystem kill_when_empty id = <fxt1>
	Destroy2DParticleSystem kill_when_empty id = <fxb1>
endscript

script kill_vocals_star_power_effect 
	vocals_get_highway_view Player = <Player>
	if (<highway_view> = karaoke)
		vocalshighway_getid Player = <Player>
		if ScreenElementExists id = <vocals_highway_id>
			<vocals_highway_id> :desc_resolvealias Name = alias_visible_highway param = visible_highway
			<visible_highway> :se_setprops alpha = 0 time = 0.2
		endif
	endif
	formatText checksumName = namevt1 'Vocals_Top_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt1>
	formatText checksumName = namevb1 'Vocals_Bottom_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb1>
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namevt2>
		<namevt2> :se_setprops alpha = 0 time = 0.5
	endif
	formatText checksumName = namevb2 'Vocals_bottom_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namevb2>
		<namevb2> :se_setprops alpha = 0 time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namevb2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevb2>
	formatText checksumName = namevt2 'Vocals_Top_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namevt2>
endscript

script lil_sp_squirt 
	RequireParams \{[
			Player
		]}
	formatText checksumName = right_sp_id 'sidebar_right_sp_meterp%p' p = <Player>
	if ScreenElementExists id = <right_sp_id>
		if <right_sp_id> :desc_resolvealias Name = alias_needle_container param = sp_squirt_cont
			formatText checksumName = fx1 'sidebar_SPFX_Squirtp%p' p = <Player> AddToStringLookup = true
			Destroy2DParticleSystem id = <fx1>
			Create2DParticleSystem {
				id = <fx1>
				Pos = (0.0, 0.0)
				z_priority = 12
				material = sys_Particle_Spark01_sys_Particle_Spark01
				parent = <sp_squirt_cont>
				start_color = [255 255 255 255]
				end_color = [0 255 255 0]
				start_scale = (1.25, 1.25)
				end_scale = (0.25, 0.25)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 0
				emit_start_radius = 3
				emit_radius = 3
				Emit_Rate = 0.01
				emit_dir = 66.0
				emit_spread = 180.0
				velocity = 3.3
				friction = (0.0, 12.0)
				time = 0.551
			}
			Wait \{0.25
				Seconds}
			Destroy2DParticleSystem kill_when_empty id = <fx1>
		endif
	endif
endscript

script lil_sp_squirt_vocals 
	RequireParams \{[
			Player
		]}
	SetSpawnInstanceLimits \{Max = 1
		management = ignore_spawn_request}
	getplayerinfo <Player> vocals_highway_view
	if ($end_credits = 1)
		return
	endif
	getplayerinfo <Player> combo_meter_id
	if ScreenElementExists id = <combo_meter_id>
		if <combo_meter_id> :desc_resolvealias Name = alias_vocals_star_power_meter param = id
			<id> :desc_resolvealias Name = alias_vocal_starpower_needle param = sp_squirt_vocals_cont
			Create2DParticleSystem {
				Pos = (0.0, 0.0)
				z_priority = 12
				material = sys_Particle_Spark01_sys_Particle_Spark01
				parent = <sp_squirt_vocals_cont>
				start_color = [128 255 255 255]
				end_color = [0 255 255 0]
				start_scale = (3.25, 3.25)
				end_scale = (0.25, 0.25)
				start_angle_spread = 360.0
				min_rotation = 0
				max_rotation = 0
				emit_start_radius = 1
				emit_radius = 1
				Emit_Rate = 0.01
				emit_dir = 90.0
				emit_spread = 0.0
				velocity = 0
				friction = (0.0, 0.0)
				time = 0.551
			}
			Wait \{0.15
				Seconds}
			Destroy2DParticleSystem kill_when_empty id = <id>
		endif
	endif
endscript

script create_highway_star_power_effect 
	sp_params = default_sp_fx_color
	getplayerinfo <Player> star_power_multiplier
	if (<star_power_multiplier> >= 6)
		sp_params = pandora_sp_fx_color
		SpawnScriptNow create_pandora_rp_fx_lvl2 params = {Player = <Player>}
	elseif (<star_power_multiplier> >= 3)
		sp_params = pandora_sp_fx_color
		SpawnScriptNow create_pandora_rp_fx_lvl1 params = {Player = <Player>}
	else
	endif
	white_255a = (($<sp_params>).white_255a)
	white_128a = (($<sp_params>).white_128a)
	white_64a = (($<sp_params>).white_64a)
	white_32a = (($<sp_params>).white_32a)
	white_0a = (($<sp_params>).white_0a)
	color1_255a = (($<sp_params>).color1_255a)
	color1_128a = (($<sp_params>).color1_128a)
	color1_64a = (($<sp_params>).color1_64a)
	color1_32a = (($<sp_params>).color1_32a)
	color1_0a = (($<sp_params>).color1_0a)
	color2_255a = (($<sp_params>).color2_255a)
	color2_128a = (($<sp_params>).color2_128a)
	color2_64a = (($<sp_params>).color2_64a)
	color2_32a = (($<sp_params>).color2_32a)
	color2_0a = (($<sp_params>).color2_0a)
	pos_index = (<Player> - 1)
	pos_table = ($highway_pos_table [<pos_index>])
	height = (<pos_table>.highway_height)
	Pos = ((0.0, -1.4) * <height>)
	pos2 = ((0.0, 0.9) * <height>)
	getnumplayersingame
	if (<num_players> = 1)
		endpos_l = {(140.0, -80.0) relative}
		endpos_r = {(-140.0, -80.0) relative}
		rot_l = -50
		rot_r = 50
	else
		endpos_l = {(120.0, -20.0) relative}
		endpos_r = {(-120.0, -20.0) relative}
		rot_l = -33
		rot_r = 33
	endif
	formatText checksumName = cont 'sidebar_container_leftp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namel 'sidebar_Left_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel>
	CreateScreenElement {
		Type = SpriteElement
		id = <namel>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = <color1_128a>
		Pos = <Pos>
		Scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namel2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namel2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = <white_255a>
		Pos = <Pos>
		Scale = (1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = namels1 'sidebar_Left_star01p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels1>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels1>
		Scale = (-0.25, 0.25)
		Pos = (20.0, 80.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = namels2 'sidebar_Left_star02p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels2>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels2>
		Scale = (-0.19, 0.15)
		Pos = (20.0, 46.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = namels3 'sidebar_Left_star03p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namels3>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namel>
		id = <namels3>
		Scale = (-0.14, 0.1)
		Pos = (20.0, 22.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = cont 'sidebar_container_rightp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namer 'sidebar_Right_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer>
	CreateScreenElement {
		Type = SpriteElement
		id = <namer>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = <color1_128a>
		Pos = <Pos>
		Scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.3
	}
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namer2>
	CreateScreenElement {
		Type = SpriteElement
		id = <namer2>
		parent = <cont>
		material = mat_sidebar_glow_02
		rgba = <white_255a>
		Pos = <Pos>
		Scale = (-1.5, 4.0)
		rot_angle = 0
		just = [center top]
		z_priority = 12.2
	}
	formatText checksumName = namers1 'sidebar_Right_star01p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers1>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers1>
		Scale = (-0.3, 0.28)
		Pos = (20.0, 100.0)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = namers2 'sidebar_Right_star02p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers2>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers2>
		Scale = (-0.2, 0.18)
		Pos = (20.0, 62.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = namers3 'sidebar_Right_star03p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers3>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers3>
		Scale = (-0.16, 0.120000005)
		Pos = (20.0, 33.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = namers4 'sidebar_Right_star04p%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namers4>
	CreateScreenElement {
		Type = SpriteElement
		parent = <namer>
		id = <namers4>
		Scale = (-0.1, 0.06)
		Pos = (20.0, 10.5)
		just = [center center]
		material = mat_star03
		z_priority = 0.9
		rgba = <color1_255a>
		preserve_local_orientation = true
	}
	formatText checksumName = container_id 'fretbar_containerp%p' p = <Player> AddToStringLookup = true
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	DestroyScreenElement id = <namec>
	CreateScreenElement {
		Type = SpriteElement
		id = <namec>
		parent = <container_id>
		material = mat_sidebar_glow_02
		rgba = <color1_0a>
		Pos = <pos2>
		rot_angle = 0
		Scale = (4.0, 2.5)
		just = [center top]
		z_priority = 1.1
	}
	formatText checksumName = fxsr1 'sidebar_star01Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr1>
	Create2DParticleSystem {
		id = <fxsr1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers1>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.8, 0.5)
		end_scale = (0.8, 0.5)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr2 'sidebar_star02Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr2>
	Create2DParticleSystem {
		id = <fxsr2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers2>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.8, 0.6)
		end_scale = (0.8, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr3 'sidebar_star03Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr3>
	Create2DParticleSystem {
		id = <fxsr3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers3>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.3)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsr4 'sidebar_star04Rp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsr4>
	Create2DParticleSystem {
		id = <fxsr4>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namers4>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.3, 0.2)
		end_scale = (0.3, 0.2)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl1 'sidebar_star01Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl1>
	Create2DParticleSystem {
		id = <fxsl1>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels1>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (1.0, 0.6)
		end_scale = (1.0, 0.6)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl2 'sidebar_star02Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl2>
	Create2DParticleSystem {
		id = <fxsl2>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels2>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.8, 0.4)
		end_scale = (0.8, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	formatText checksumName = fxsl3 'sidebar_star03Lp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fxsl3>
	Create2DParticleSystem {
		id = <fxsl3>
		Pos = (0.0, 0.0)
		z_priority = 12
		material = mat_star03
		parent = <namels3>
		start_color = <color1_128a>
		end_color = <color2_0a>
		start_scale = (0.6, 0.3)
		end_scale = (0.6, 0.4)
		start_angle_spread = 0
		min_rotation = 18
		max_rotation = 18
		emit_start_radius = 0
		emit_radius = 0
		Emit_Rate = 0.1
		emit_dir = 0.0
		emit_spread = 0
		velocity = 0.0
		friction = (0.0, 0.0)
		time = 0.25
	}
	<namel> :se_setprops Pos = <Pos> Scale = (4.0, 4.0) time = 0.25
	<namel2> :se_setprops Pos = <Pos> Scale = (1.0, 4.0) rgba = <color1_128a> time = 0.25
	<namer> :se_setprops Pos = <Pos> Scale = (-4.0, 4.0) time = 0.25
	<namer2> :se_setprops Pos = <Pos> Scale = (-1.0, 4.0) rgba = <color1_128a> time = 0.25
	<namec> :se_setprops Pos = <pos2> Scale = (8.0, 2.4) time = 0.25
	Wait \{0.25
		Seconds}
	if ScreenElementExists id = <namel>
		<namel> :se_setprops alpha = 0 time = 0.5 Pos = <endpos_l> rot_angle = <rot_l>
	endif
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = <color2_0a> time = 0.5
	endif
	if ScreenElementExists id = <namer>
		<namer> :se_setprops rgba alpha = 0 time = 0.5 Pos = <endpos_r> rot_angle = <rot_r>
	endif
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = <color2_0a> time = 0.5
	endif
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = <color1_128a> time = 0.5
	endif
	Wait \{0.25
		Seconds}
	formatText checksumName = fx3 'sidebar_Center3_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx3>
	Create2DParticleSystem {
		id = <fx3>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Star02_sys_Particle_Star02
		parent = <namec>
		start_color = <white_64a>
		end_color = <color1_0a>
		start_scale = (0.25, 0.25)
		end_scale = (0.5, 0.5)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 6
		emit_radius = 336
		Emit_Rate = 0.05
		emit_dir = 180.0
		emit_spread = 33.0
		velocity = 5.1
		friction = (0.0, -3.0)
		time = 1.0
	}
	formatText checksumName = fx2 'sidebar_Center2_SPFXp%p' p = <Player> AddToStringLookup = true
	Destroy2DParticleSystem id = <fx2>
	Create2DParticleSystem {
		id = <fx2>
		Pos = (0.0, 100.0)
		z_priority = 12
		material = sys_Particle_Spark01_sys_Particle_Spark01
		parent = <namec>
		start_color = <white_64a>
		end_color = <color1_0a>
		start_scale = (2.25, 2.25)
		end_scale = (0.25, 0.25)
		start_angle_spread = 360.0
		min_rotation = 333
		max_rotation = -333
		emit_start_radius = 0
		emit_radius = 777
		Emit_Rate = 0.05
		emit_dir = 0.0
		emit_spread = 33.0
		velocity = 1.1
		friction = (0.0, 12.0)
		time = 1.0
	}
	Wait \{0.25
		Seconds}
	Destroy2DParticleSystem kill_when_empty id = <fx2>
	Destroy2DParticleSystem kill_when_empty id = <fx3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr1>
	Destroy2DParticleSystem kill_when_empty id = <fxsr2>
	Destroy2DParticleSystem kill_when_empty id = <fxsr3>
	Destroy2DParticleSystem kill_when_empty id = <fxsr4>
	Destroy2DParticleSystem kill_when_empty id = <fxsl1>
	Destroy2DParticleSystem kill_when_empty id = <fxsl2>
	Destroy2DParticleSystem kill_when_empty id = <fxsl3>
	Wait \{0.25
		Seconds}
	DestroyScreenElement id = <namel>
	DestroyScreenElement id = <namer>
	if ScreenElementExists id = <namel2>
		<namel2> :Obj_SpawnScriptNow pulse_sp_color params = {Player = <Player>}
	endif
endscript

script pulse_sp_color 
	sp_params = default_sp_fx_color
	getplayerinfo <Player> star_power_multiplier
	if (<star_power_multiplier> > 2)
		sp_params = pandora_sp_fx_color
	endif
	white_255a = (($<sp_params>).white_255a)
	white_128a = (($<sp_params>).white_128a)
	white_64a = (($<sp_params>).white_64a)
	white_32a = (($<sp_params>).white_32a)
	white_0a = (($<sp_params>).white_0a)
	color1_255a = (($<sp_params>).color1_255a)
	color1_128a = (($<sp_params>).color1_128a)
	color1_64a = (($<sp_params>).color1_64a)
	color1_32a = (($<sp_params>).color1_32a)
	color1_0a = (($<sp_params>).color1_0a)
	color2_255a = (($<sp_params>).color2_255a)
	color2_128a = (($<sp_params>).color2_128a)
	color2_64a = (($<sp_params>).color2_64a)
	color2_32a = (($<sp_params>).color2_32a)
	color2_0a = (($<sp_params>).color2_0a)
	begin
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = <color1_64a> time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = <color1_64a> time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = <color1_32a> time = 0.5
	endif
	Wait \{0.5
		Seconds}
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops rgba = <color1_255a> time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops rgba = <color1_255a> time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops rgba = <color1_64a> time = 0.5
	endif
	Wait \{0.5
		Seconds}
	repeat
endscript

script kill_highway_star_power_effect 
	SpawnScriptNow kill_pandora_rp_fx params = {Player = <Player>}
	formatText checksumName = namer2 'sidebar_Right2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namer2>
		<namer2> :se_setprops alpha = 0 time = 0.5
	endif
	formatText checksumName = namel2 'sidebar_Left2_SPGlowp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namel2>
		<namel2> :se_setprops alpha = 0 time = 0.5
	endif
	formatText checksumName = namec 'sidebar_Center_SPRushp%p' p = <Player> AddToStringLookup = true
	if ScreenElementExists id = <namec>
		<namec> :se_setprops alpha = 0 time = 0.5
	endif
	Wait \{0.5
		Seconds}
	DestroyScreenElement id = <namec>
	DestroyScreenElement id = <namel2>
	DestroyScreenElement id = <namer2>
endscript
