jam_current_instrument_effects = [
	0
	0
	0
	0
	0
]
jam_current_active_effects = [
	0
	0
	0
	0
	0
]
num_unlocked_line6_effect_rhythm = 9
num_unlocked_line6_effect_lead = 9
jam_rhythm_effects = [
	{
		name_text = qs(0x32d18bb0)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'big_tone'
		On = {
			line6
			global_name = line6_big_tone
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x74fa5ecf)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'cali_crunch'
		On = {
			line6
			global_name = line6_california_crunch1
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x0fab8bf4)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'clean_rhy'
		On = {
			line6
			global_name = line6_clean
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x2ebe5b57)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'fuzz'
		On = {
			line6
			global_name = line6_fuzz_box
		}
		OFF = {
		}
	}
	{
		name_text = qs(0xb7b03ec1)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'indie'
		On = {
			line6
			global_name = pod2_amp_2a_austinlimits
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x99e8bfc2)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'insane'
		On = {
			line6
			global_name = line6_insane
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x188a2e86)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'treadplate'
		On = {
			line6
			global_name = line6_placeholder_1
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x146d1372)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'twang'
		On = {
			line6
			global_name = line6_placeholder_4
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x9e8543c5)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'tweed_blues'
		On = {
			line6
			global_name = line6_tweed_blues
		}
		OFF = {
		}
	}
]
jam_lead_effects = [
	{
		name_text = qs(0x32d18bb0)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'big_tone'
		On = {
			line6
			global_name = line6_big_tone
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x74fa5ecf)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'cali_crunch'
		On = {
			line6
			global_name = line6_california_crunch1
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x0fab8bf4)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'clean_rhy'
		On = {
			line6
			global_name = line6_clean
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x2ebe5b57)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'fuzz'
		On = {
			line6
			global_name = line6_fuzz_box
		}
		OFF = {
		}
	}
	{
		name_text = qs(0xb7b03ec1)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'indie'
		On = {
			line6
			global_name = pod2_amp_2a_austinlimits
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x99e8bfc2)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'insane'
		On = {
			line6
			global_name = line6_insane
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x188a2e86)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'treadplate'
		On = {
			line6
			global_name = line6_placeholder_1
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x146d1372)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'twang'
		On = {
			line6
			global_name = line6_placeholder_4
		}
		OFF = {
		}
	}
	{
		name_text = qs(0x9e8543c5)
		amp_text = qs(0x03ac90f0)
		fx_text = qs(0x03ac90f0)
		cab_text = qs(0x03ac90f0)
		ps2_prefix = 'tweed_blues'
		On = {
			line6
			global_name = line6_tweed_blues
		}
		OFF = {
		}
	}
]
jam_bass_effects = [
	{
		name_text = qs(0x25660ca4)
		amp_text = qs(0x0d01351b)
		fx_text = qs(0x0d01351b)
		cab_text = qs(0x0d01351b)
		On = {
		}
		OFF = {
		}
	}
]

script guitar_jam_effects_select_effect 
	formatText checksumName = selector_id 'pause_submenu_effects_selector_%b' b = <Player>
	formatText checksumName = option_id 'pause_submenu_effects_options_%b_%c' b = <Player> c = <option_index>
	<selector_id> :SetProps parent = <option_id>
	formatText checksumName = cur_effect 'current_effect_txt_%a' a = <Player>
	if ScreenElementExists id = <cur_effect>
		getplayerinfo <Player> jam_instrument
		switch (<jam_instrument>)
			case 0
			<effect_array> = pause_effects_options_rhythm
			case 1
			<effect_array> = pause_effects_options_lead
			case 2
			<effect_array> = pause_effects_options_bass
		endswitch
		<cur_effect> :se_setprops text = (($<effect_array>) [<option_index>].name_text)
	endif
	getplayerinfo <Player> jam_instrument
	SetArrayElement ArrayName = jam_current_instrument_effects globalarray index = <jam_instrument> NewValue = <option_index>
	if (<jam_instrument> = 0)
		SetArrayElement ArrayName = jam_current_instrument_effects globalarray index = 1 NewValue = <option_index>
	endif
	if (<jam_instrument> = 1)
		SetArrayElement ArrayName = jam_current_instrument_effects globalarray index = 0 NewValue = <option_index>
	endif
endscript

script guitar_jam_effects_toggle_active \{force_state = None}
	<current_state> = ($jam_current_active_effects [<jam_instrument>])
	if (<current_state> = 0)
		<new_effect_status> = 1
	elseif (<current_state> = 1)
		<new_effect_status> = 0
	endif
	if (<force_state> = On)
		<new_effect_status> = 1
	elseif (<force_state> = OFF)
		<new_effect_status> = 0
	endif
	SetArrayElement ArrayName = jam_current_active_effects globalarray index = <jam_instrument> NewValue = <new_effect_status>
	if (<jam_instrument> = 0)
		SetArrayElement ArrayName = jam_current_active_effects globalarray index = 1 NewValue = <new_effect_status>
	endif
	if (<jam_instrument> = 1)
		SetArrayElement ArrayName = jam_current_active_effects globalarray index = 0 NewValue = <new_effect_status>
	endif
	<effect_index> = ($jam_current_instrument_effects [<jam_instrument>])
	switch (<jam_instrument>)
		case 0
		StopSoundsByBuss \{jammode_rhythmguitar}
		destroysoundbusseffects \{jammode_rhythmguitar = [
				all
			]}
		<effects_array> = ($jam_rhythm_effects)
		if (<new_effect_status> = 1)
			<real_effect> = (<effects_array> [<effect_index>].On)
		elseif (<new_effect_status> = 0)
			<real_effect> = (<effects_array> [<effect_index>].OFF)
		endif
		Change lead_jam_set = (<effects_array> [<effect_index>].ps2_prefix)
		Change rhythm_jam_set = (<effects_array> [<effect_index>].ps2_prefix)
		if StructureContains structure = <real_effect> line6
			<global_name> = (<real_effect>.global_name)
			<line6_effect> = ($<global_name>)
			createsoundbusseffects jammode_rhythmguitar = <line6_effect>
		endif
		case 1
		StopSoundsByBuss \{jammode_leadguitar}
		destroysoundbusseffects \{jammode_leadguitar = [
				all
			]}
		<effects_array> = ($jam_lead_effects)
		if (<new_effect_status> = 1)
			<real_effect> = (<effects_array> [<effect_index>].On)
		elseif (<new_effect_status> = 0)
			<real_effect> = (<effects_array> [<effect_index>].OFF)
		endif
		Change lead_jam_set = (<effects_array> [<effect_index>].ps2_prefix)
		Change rhythm_jam_set = (<effects_array> [<effect_index>].ps2_prefix)
		if StructureContains structure = <real_effect> line6
			<global_name> = (<real_effect>.global_name)
			<line6_effect> = ($<global_name>)
			createsoundbusseffects jammode_leadguitar = <line6_effect>
		endif
	endswitch
	guitar_jam_settings_update_pan jam_instrument = <jam_instrument>
	guitar_jam_settings_update_volume jam_instrument = <jam_instrument>
endscript

script guitar_jam_effects_toggle_ui_effect 
	getplayerinfo <select_player> jam_instrument
	<active_effects_array> = ($jam_current_active_effects)
	if (<active_effects_array> [<jam_instrument>] = 1)
		jam_band_show_effect_ui select_player = <select_player> On
	else
		jam_band_show_effect_ui select_player = <select_player>
	endif
endscript

script guitar_jam_effects_exit 
	getplayerinfo <select_player> jam_instrument
	guitar_jam_effects_toggle_active jam_instrument = <jam_instrument> force_state = On
	jam_band_remove_pause_submenu vmenu_options_effects = <vmenu_options_submenu> scrolling_options_effects = <scrolling_options_submenu> player_pause_submenu = <player_pause_submenu> vmenu_id = <vmenu_id>
endscript

script jam_load_effect \{loaded_effects = [
			0
			0
			0
			0
			0
		]}
	Change \{jam_current_instrument_effects = [
			0
			0
			0
			0
			0
		]}
	GetArraySize \{$jam_rhythm_effects}
	0x4f9e1762 = <array_Size>
	GetArraySize \{$jam_lead_effects}
	0x2d05d10b = <array_Size>
	track_count = 0
	begin
	gettrackinfo track = ($jam_tracks [<track_count>].id)
	if (<track_count> = 0)
		if (<effect> >= <0x4f9e1762>)
			effect = 0
		endif
		<effects_array> = ($jam_rhythm_effects)
		Change rhythm_jam_set = (<effects_array> [<effect>].ps2_prefix)
		Change lead_jam_set = (<effects_array> [<effect>].ps2_prefix)
	elseif (<track_count> = 1)
		if (<effect> >= <0x2d05d10b>)
			effect = 0
		endif
		<effects_array> = ($jam_lead_effects)
		Change lead_jam_set = (<effects_array> [<effect>].ps2_prefix)
		Change rhythm_jam_set = (<effects_array> [<effect>].ps2_prefix)
	endif
	SetArrayElement ArrayName = loaded_effects index = <track_count> NewValue = <effect>
	if (<track_count> = 1)
		SetArrayElement ArrayName = loaded_effects index = 0 NewValue = <effect>
	endif
	<track_count> = (<track_count> + 1)
	repeat 4
	0xc1c4e84c \{mode = jammode
		0xd607e2e6 = 1}
	Change jam_current_instrument_effects = <loaded_effects>

endscript

script jam_save_effect 
	track_count = 0
	effects = ($jam_current_instrument_effects)
	begin
	effect = (<effects> [<track_count>])
	settrackinfo track = ($jam_tracks [<track_count>].id) effect = <effect>

	<track_count> = (<track_count> + 1)
	repeat 4
endscript
